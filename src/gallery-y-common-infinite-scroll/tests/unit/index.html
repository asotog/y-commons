<!doctype html>
<html>
<head>
    <title>gallery-y-common-infinite-scroll</title>
    <script src="/build/yui/yui.js"></script>
    <script src="/build/gallery-y-common-infinite-scroll/gallery-y-common-infinite-scroll-debug.js"></script>
    <script src="js/tests.js"></script>
    <meta charset="utf-8" />
</head>
<body class="yui3-skin-sam">
<div id="container">
    <div id="items">
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
        <div class="item">
            <div><a href="#">Laborum id consectetur culpa eu ani</a></div>
            <div>Laborum amet cillum laborum aliqua nostrud culpa eiusmod aliqua magna aliqua officia consequat. Duis enim ex commodo excepteur non qui proident eiusmod. Culpa eiusmod ea amet occaecat officia voluptate laborum consequat culpa. Sit do amet esse nulla aute dolor proident irure consequat aliquip aliquip. Esse occaecat enim adipisicing proident eu pariatur laboris dolor ad laborum nisi exercitation</div>
        </div>
    </div>
    
</div>

<div id="logger"></div>

<script>
YUI({
    coverage: ['gallery-y-common-infinite-scroll'],
    filter: (window.location.search.match(/[?&]filter=([^&]+)/) || [])[1] || 'raw'
}).use('gallery-y-common-infinite-scroll', 'test-console', 'test', 'module-tests', function(Y) {
    var itemTemplate = '<div class="item">' +
                        '<div><a href="#">{name}</a></div>' + 
                        '<div>{description}</div>' +
                        '</div>';
    var infiniteScroll = new Y.InfiniteScroll({
        dataSourceUrl: 'data.json?offset={offset}',
        container: Y.one('#items'),
        itemTemplate: itemTemplate,
        initialize: false
    });
    infiniteScroll.on('infinite-scroll:loading', function(e) {
        console.info('loading');
    });
    infiniteScroll.on('infinite-scroll:finished', function(e) {
        console.info('finished');
    });
    infiniteScroll.on('infinite-scroll:no-more-results', function(e) {
        console.info('no-more-results');
    });
    
    (new Y.Test.Console()).render('#logger');
    
    Y.Test.Runner.setName('gallery-y-common-infinite-scroll');
    Y.Test.Runner.run();
});
</script>
</body>
</html>
