YUI.add("gallery-y-common-simple-validator",function(e,t){e.namespace("Common");var n="empty",r="text-limit",i="follow-pattern",s="custom";e.Common.SimpleValidator=e.Base.create("gallery-y-common-simple-validator",e.Base,[],{initializer:function(){var e=this;this.addFieldSet(this.get("configuration"))},addFieldSet:function(e){var t=this,n=e.container;this.iterateConfig(n,e,function(e,n,r){r.get("type")=="radio"?n.all('input[type="radio"]').each(function(r){r.on("change",function(i){t.validate(r,n,e)})}):(r.on("change",function(i){t.validate(r,n,e)}),r.on("blur",function(i){t.validate(r,n,e)}))})},iterateConfig:function(t,n,r){e.Array.each(n.rules,function(e){var n=e.type,i=t.one(e.node),s=e.field?i.one(e.field):i.one("input");r(n,i,s)})},validate:function(t,o,u){var a=this,f=o.one(a.get("errorNodeSelector"));f.empty();var l=!1;return e.Array.each(u,function(e){e.type==n&&t.get("value").length<=0&&(f.append(e.message),l=!0),e.type==n&&(t.get("type")=="radio"||t.get("type")=="checkbox")&&!t.get("checked")&&(f.append(e.message),l=!0),!l&&e.type==r&&t.get("value").length>e.textLength&&(f.append(e.message),l=!0),!l&&e.type==i&&t.get("value").search(e.regexPattern)==-1&&(f.append(e.message),l=!0),!l&&e.type==s&&typeof e.isValidFn=="function"&&(e.isValidFn(t.get("value"))||(f.append(e.message),l=!0))}),this.toggleWrapper(o,l),!l},toggleWrapper:function(e,t){t?(e.removeClass(this.get("passClass")),e.addClass(this.get("failClass"))):(e.removeClass(this.get("failClass")),e.addClass(this.get("passClass")))},areFieldsValid:function(){var e=this,t=!0,n=this.get("configuration").container;return this.iterateConfig(n,this.get("configuration"),function(n,r,i){var s=!0;if(i.get("type")=="radio"){var o=r.one('input[type="radio"]:checked'),u=o?o:r.one('input[type="radio"]');s=e.validate(u,r,n)}else s=e.validate(i,r,n);t=s?t:!1}),t},destructor:function(){}},{ATTRS:{configuration:{value:null},errorNodeSelector:{value:".err-msg"},passClass:{value:"pass"},failClass:{value:"fail"}}})},"@VERSION@",{requires:["yui-base","base-build","node"]});
