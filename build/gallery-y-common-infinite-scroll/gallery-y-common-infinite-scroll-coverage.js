if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-y-common-infinite-scroll/gallery-y-common-infinite-scroll.js']) {
   __coverage__['build/gallery-y-common-infinite-scroll/gallery-y-common-infinite-scroll.js'] = {"path":"build/gallery-y-common-infinite-scroll/gallery-y-common-infinite-scroll.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":44},"end":{"line":1,"column":63}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":17},"end":{"line":16,"column":29}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":56}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":27}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":60},"end":{"line":51,"column":79}}},"6":{"name":"(anonymous_6)","line":63,"loc":{"start":{"line":63,"column":18},"end":{"line":63,"column":29}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":25},"end":{"line":68,"column":48}}},"8":{"name":"(anonymous_8)","line":72,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":49}}},"9":{"name":"(anonymous_9)","line":79,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":41}}},"10":{"name":"(anonymous_10)","line":83,"loc":{"start":{"line":83,"column":35},"end":{"line":83,"column":51}}},"11":{"name":"(anonymous_11)","line":150,"loc":{"start":{"line":150,"column":19},"end":{"line":150,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":168,"column":3}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}},"5":{"start":{"line":8,"column":0},"end":{"line":155,"column":3}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":41}},"7":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"8":{"start":{"line":19,"column":12},"end":{"line":19,"column":29}},"9":{"start":{"line":21,"column":8},"end":{"line":23,"column":18}},"10":{"start":{"line":22,"column":12},"end":{"line":22,"column":29}},"11":{"start":{"line":27,"column":8},"end":{"line":27,"column":22}},"12":{"start":{"line":29,"column":8},"end":{"line":29,"column":26}},"13":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"14":{"start":{"line":31,"column":12},"end":{"line":31,"column":19}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":63}},"16":{"start":{"line":35,"column":8},"end":{"line":35,"column":65}},"17":{"start":{"line":37,"column":8},"end":{"line":41,"column":9}},"18":{"start":{"line":38,"column":12},"end":{"line":38,"column":59}},"19":{"start":{"line":40,"column":12},"end":{"line":40,"column":43}},"20":{"start":{"line":43,"column":8},"end":{"line":59,"column":9}},"21":{"start":{"line":44,"column":12},"end":{"line":44,"column":40}},"22":{"start":{"line":45,"column":12},"end":{"line":45,"column":67}},"23":{"start":{"line":47,"column":12},"end":{"line":47,"column":34}},"24":{"start":{"line":48,"column":12},"end":{"line":48,"column":53}},"25":{"start":{"line":50,"column":12},"end":{"line":57,"column":13}},"26":{"start":{"line":51,"column":16},"end":{"line":54,"column":19}},"27":{"start":{"line":52,"column":20},"end":{"line":52,"column":50}},"28":{"start":{"line":53,"column":20},"end":{"line":53,"column":47}},"29":{"start":{"line":56,"column":16},"end":{"line":56,"column":36}},"30":{"start":{"line":64,"column":8},"end":{"line":64,"column":22}},"31":{"start":{"line":65,"column":8},"end":{"line":65,"column":79}},"32":{"start":{"line":66,"column":8},"end":{"line":76,"column":11}},"33":{"start":{"line":69,"column":20},"end":{"line":69,"column":60}},"34":{"start":{"line":70,"column":20},"end":{"line":70,"column":46}},"35":{"start":{"line":73,"column":20},"end":{"line":73,"column":47}},"36":{"start":{"line":80,"column":8},"end":{"line":80,"column":22}},"37":{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},"38":{"start":{"line":82,"column":8},"end":{"line":90,"column":9}},"39":{"start":{"line":83,"column":12},"end":{"line":86,"column":15}},"40":{"start":{"line":84,"column":16},"end":{"line":84,"column":53}},"41":{"start":{"line":85,"column":16},"end":{"line":85,"column":85}},"42":{"start":{"line":88,"column":12},"end":{"line":88,"column":40}},"43":{"start":{"line":89,"column":12},"end":{"line":89,"column":38}},"44":{"start":{"line":91,"column":8},"end":{"line":91,"column":29}},"45":{"start":{"line":151,"column":16},"end":{"line":151,"column":28}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"4":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"5":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":56}},{"start":{"line":43,"column":61},"end":{"line":43,"column":82}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":12}},{"start":{"line":50,"column":12},"end":{"line":50,"column":12}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]}},"code":["(function () { YUI.add('gallery-y-common-infinite-scroll', function (Y, NAME) {","","","var EV_LOADING = 'infinite-scroll:loading'; /* event fired while requesting data */","var EV_FINISHED = 'infinite-scroll:finished'; /* event fired when data arrives */","var EV_NO_MORE_RESULTS = 'infinite-scroll:no-more-results'; /* event fired when there is no more data available to show */","","Y.InfiniteScroll = Y.Base.create('gallery-y-common-infinite-scroll', Y.Base, [], {","","    updateInitiated: false,","","    offset: null,","","    allItemsFetched: false,","","    initializer: function () {","        this.offset = this.get('offset');","        if (this.get('initialize')) {","            this._onScroll();","        }","        Y.one(document).on('scroll', Y.bind(function () {","            this._onScroll();","        }, this));","    },","","    _onScroll: function () {","        var me = this;","        ","        var scrollPos = 0;","        if (this.updateInitiated) {","            return;","        }","","        var pageHeight = document.documentElement.scrollHeight;","        var clientHeight = document.documentElement.clientHeight;","","        if (Y.UA.ie) {","            scrollPos = document.documentElement.scrollTop;","        } else {","            scrollPos = window.pageYOffset;","        }","","        if (pageHeight - (scrollPos + clientHeight) < 50  && !this.allItemsFetched) {","            this.updateInitiated = true;","            var offset = this.get('container').all('.item').size();","","            this.fire(EV_LOADING);","            document.documentElement.scrollTop += 60;","            ","            if (this.get('requestCustomData')) {","                Y.bind(this.get('requestCustomData'), this)(function(response) {","                    me._processResponse(response);","                    me.updateInitiated = false;","                });","            } else {","                this.requestItems();","            }","","        }","","    },","    ","    requestItems: function() {","        var me = this;","        var url = Y.Lang.sub(this.get('dataSourceUrl'), {offset: this.offset});","        var oConn = Y.io(url, {","            on: {","                success: function (id, o, args) {","                    var resp = Y.JSON.parse(o.responseText);","                    me._processResponse(resp);","                },","                complete: function (id, o, args) {","                    me.updateInitiated = false;","                }","            }","        });","    },","    ","    _processResponse: function(response) {","        var me = this;","        me.offset += me.get('offset');","        if (response.length > 0) {","            Y.Array.each(response, function (item) {","                item = me.get('itemProcessor')(item);","                me.get('container').append(Y.Lang.sub(me.get('itemTemplate'), item));","            });","        } else {","            me.fire(EV_NO_MORE_RESULTS);","            me.allItemsFetched = true;","        }","        me.fire(EV_FINISHED);","    }","}, {","    ATTRS: {","        ","        /**","         * Url template of the data source will be like domain.com?offset={offset}, will be used to make the ajax call","         */ ","        dataSourceUrl: {","            value: ''","        },","        ","        /**","         * Infinite items Y.Node container","         */ ","        container: {","            value: null","        },","        ","        /**","         * Html template to be used when ajax call arrives with the results","         */ ","        itemTemplate: {","            value: ''","        },","        ","        /**","         * Number of items requested ","         * ","         */ ","        offset: {","            value: 15","        },","        ","        /**","         * Requests data on initialization or only on scroll","         * ","         */ ","        initialize: {","            value: false","        },","        ","        /**","         * Custom function to request items","         * @example ","         * function(callback) {} ","         *      @param Function callback Callback function to return items after items request is done","         *          @example function(items) { ... }","         */ ","        requestCustomData: {","            value: null","        },","        ","        /**","         * Custom function to process each item data before rendering is going to be triggered on each item","         * @example ","         * function(item) { return item; } ","         */","        itemProcessor: {","            value: function(item) {","                return item;","            }","        }","    }","});","","}, '@VERSION@', {","    \"requires\": [","        \"yui-base\",","        \"widget\",","        \"base\",","        \"node\",","        \"node-event-delegate\",","        \"event\",","        \"io-base\",","        \"json-parse\"","    ]","});","","}());"]};
}
var __cov_lkW_b_VHHXsHxOIpMhJcNA = __coverage__['build/gallery-y-common-infinite-scroll/gallery-y-common-infinite-scroll.js'];
__cov_lkW_b_VHHXsHxOIpMhJcNA.s['1']++;YUI.add('gallery-y-common-infinite-scroll',function(Y,NAME){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['1']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['2']++;var EV_LOADING='infinite-scroll:loading';__cov_lkW_b_VHHXsHxOIpMhJcNA.s['3']++;var EV_FINISHED='infinite-scroll:finished';__cov_lkW_b_VHHXsHxOIpMhJcNA.s['4']++;var EV_NO_MORE_RESULTS='infinite-scroll:no-more-results';__cov_lkW_b_VHHXsHxOIpMhJcNA.s['5']++;Y.InfiniteScroll=Y.Base.create('gallery-y-common-infinite-scroll',Y.Base,[],{updateInitiated:false,offset:null,allItemsFetched:false,initializer:function(){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['2']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['6']++;this.offset=this.get('offset');__cov_lkW_b_VHHXsHxOIpMhJcNA.s['7']++;if(this.get('initialize')){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['1'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['8']++;this._onScroll();}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['1'][1]++;}__cov_lkW_b_VHHXsHxOIpMhJcNA.s['9']++;Y.one(document).on('scroll',Y.bind(function(){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['3']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['10']++;this._onScroll();},this));},_onScroll:function(){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['4']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['11']++;var me=this;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['12']++;var scrollPos=0;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['13']++;if(this.updateInitiated){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['2'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['14']++;return;}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['2'][1]++;}__cov_lkW_b_VHHXsHxOIpMhJcNA.s['15']++;var pageHeight=document.documentElement.scrollHeight;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['16']++;var clientHeight=document.documentElement.clientHeight;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['17']++;if(Y.UA.ie){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['3'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['18']++;scrollPos=document.documentElement.scrollTop;}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['3'][1]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['19']++;scrollPos=window.pageYOffset;}__cov_lkW_b_VHHXsHxOIpMhJcNA.s['20']++;if((__cov_lkW_b_VHHXsHxOIpMhJcNA.b['5'][0]++,pageHeight-(scrollPos+clientHeight)<50)&&(__cov_lkW_b_VHHXsHxOIpMhJcNA.b['5'][1]++,!this.allItemsFetched)){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['4'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['21']++;this.updateInitiated=true;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['22']++;var offset=this.get('container').all('.item').size();__cov_lkW_b_VHHXsHxOIpMhJcNA.s['23']++;this.fire(EV_LOADING);__cov_lkW_b_VHHXsHxOIpMhJcNA.s['24']++;document.documentElement.scrollTop+=60;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['25']++;if(this.get('requestCustomData')){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['6'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['26']++;Y.bind(this.get('requestCustomData'),this)(function(response){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['5']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['27']++;me._processResponse(response);__cov_lkW_b_VHHXsHxOIpMhJcNA.s['28']++;me.updateInitiated=false;});}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['6'][1]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['29']++;this.requestItems();}}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['4'][1]++;}},requestItems:function(){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['6']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['30']++;var me=this;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['31']++;var url=Y.Lang.sub(this.get('dataSourceUrl'),{offset:this.offset});__cov_lkW_b_VHHXsHxOIpMhJcNA.s['32']++;var oConn=Y.io(url,{on:{success:function(id,o,args){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['7']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['33']++;var resp=Y.JSON.parse(o.responseText);__cov_lkW_b_VHHXsHxOIpMhJcNA.s['34']++;me._processResponse(resp);},complete:function(id,o,args){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['8']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['35']++;me.updateInitiated=false;}}});},_processResponse:function(response){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['9']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['36']++;var me=this;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['37']++;me.offset+=me.get('offset');__cov_lkW_b_VHHXsHxOIpMhJcNA.s['38']++;if(response.length>0){__cov_lkW_b_VHHXsHxOIpMhJcNA.b['7'][0]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['39']++;Y.Array.each(response,function(item){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['10']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['40']++;item=me.get('itemProcessor')(item);__cov_lkW_b_VHHXsHxOIpMhJcNA.s['41']++;me.get('container').append(Y.Lang.sub(me.get('itemTemplate'),item));});}else{__cov_lkW_b_VHHXsHxOIpMhJcNA.b['7'][1]++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['42']++;me.fire(EV_NO_MORE_RESULTS);__cov_lkW_b_VHHXsHxOIpMhJcNA.s['43']++;me.allItemsFetched=true;}__cov_lkW_b_VHHXsHxOIpMhJcNA.s['44']++;me.fire(EV_FINISHED);}},{ATTRS:{dataSourceUrl:{value:''},container:{value:null},itemTemplate:{value:''},offset:{value:15},initialize:{value:false},requestCustomData:{value:null},itemProcessor:{value:function(item){__cov_lkW_b_VHHXsHxOIpMhJcNA.f['11']++;__cov_lkW_b_VHHXsHxOIpMhJcNA.s['45']++;return item;}}}});},'@VERSION@',{'requires':['yui-base','widget','base','node','node-event-delegate','event','io-base','json-parse']});
