YUI.add("gallery-y-common-ractive",function(e,t){function n(e){e.template=e.container.getHTML(),e.container.empty(),e.el=e.container.getDOMNode(),n.superclass.constructor.call(this,e)}!function(e){"use strict";var t=e.Ractive,n=null,r=function(){var e,t;return e={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},t={keys:Object.keys(e),defaults:e}}(n),i=function(){var e;return e="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e,t){var n;return n=e?function(e,n){return n&&n!==t.html?document.createElementNS(n,e):document.createElement(e)}:function(e,n){if(n&&n!==t.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)}}(i,s),u=function(){var e="object"==typeof document;return e}(),a=function(e){var t;try{Object.defineProperty({},"test",{value:0}),e&&Object.defineProperty(document.createElement("div"),"test",{value:0}),t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(u),f=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(e("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n)n.hasOwnProperty(r)&&t(e,r,n[r])}}return r}(o,a,u),l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},c=function(e){return function(t,n,r){var i;if("string"!=typeof n||!e(r))throw new Error("Bad arguments");if(i=+t.get(n)||0,!e(i))throw new Error("Cannot add to a non-numeric value");return t.set(n,i+r)}}(l),h=function(e){return function(t,n){return e(this,t,void 0===n?1:+n)}}(c),p=function(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t},d=function(){function e(e){setTimeout(e,0)}function t(e,t){return function(){for(var n;n=e.shift();)n(t)}}function n(e,t,i,s){var o;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof r)t.then(i,s);else if(!t||"object"!=typeof t&&"function"!=typeof t)i(t);else{try{o=t.then}catch(u){return void s(u)}if("function"==typeof o){var a,f,l;f=function(t){a||(a=!0,n(e,t,i,s))},l=function(e){a||(a=!0,s(e))};try{o.call(t,f,l)}catch(u){if(!a)return s(u),void (a=!0)}}else i(t)}}var r,i={},s={},o={};return"function"==typeof d?r=d:(r=function(u){var a,f,l,c,h,p,d=[],v=[],m=i;l=function(n){return function(r){m===i&&(a=r,m=n,f=t(m===s?d:v,a),e(f))}},c=l(s),h=l(o);try{u(c,h)}catch(g){h(g)}return p={then:function(t,s){var o=new r(function(r,u){var a=function(e,t,i){t.push("function"==typeof e?function(t){var i;try{i=e(t),n(o,i,r,u)}catch(s){u(s)}}:i)};a(t,d,r),a(s,v,u),m!==i&&e(f)});return o}},p["catch"]=function(e){return this.then(null,e)},p},r.all=function(e){return new r(function(t,n){var r,i,s,o=[];if(!e.length)return void t(o);for(s=function(i){e[i].then(function(e){o[i]=e,--r||t(o)},n)},r=i=e.length;i--;)s(i)})},r.resolve=function(e){return new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})}),r}(),v=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(t){return(t||"").replace(e,".$1")}}(),m=["o","ms","moz","webkit"],g=function(e){var t;return"undefined"==typeof window?t=null:(!function(e,t,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-t)),s=i(function(){e(n+r)},r),t=n+r,s})}}(e,0,window),t=window.requestAnimationFrame),t}(m),y=function(){var e;return e="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),b=[],w=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},E=function(e,t,n){var r,i,s,o,u,a,f="/* Ractive.js component styles */\n",l={},c=[];return t?(e.push(function(){i=e.runloop}),s=document.createElement("style"),s.type="text/css",o=document.getElementsByTagName("head")[0],a=!1,u=s.styleSheet,r={add:function(e){e.css&&(l[e._guid]||(l[e._guid]=0,c.push(e.css),i.scheduleCssUpdate()),l[e._guid]+=1)},remove:function(e){e.css&&(l[e._guid]-=1,l[e._guid]||(n(c,e.css),i.scheduleCssUpdate()))},update:function(){var e;c.length?(e=f+c.join(" "),u?u.cssText=e:s.innerHTML=e,a||o.appendChild(s)):a&&o.removeChild(s)}}):r=null,r}(b,u,w),S=function(e,t){var n,r,i,s,o,u;for(n=[],u=e._rendering?e.fragment.docFrag:e.el,r=u.querySelectorAll('input[type="checkbox"][name="{{'+t+'}}"]'),s=r.length,o=0;s>o;o+=1)i=r[o],(i.hasAttribute("checked")||i.checked)&&n.push(i._ractive.value);return n},x=Object.prototype.hasOwnProperty,T=function(e){do if(e.context)return e.context;while(e=e.parent);return""},N=function(e,t,n,r){function i(e,t){var n;if("."===t)return e;if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error(o);n.pop(),t=t.substring(3)}return n.push(t),n.join(".")}return e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,"")}var s,o,u;return e.push(function(){s=e.get}),o='Could not resolve reference - too many "../" prefixes',u={evaluateWrapped:!0},function(e,o,a){var f,l,c,h;if(o=t(o),"."===o.charAt(0))return i(r(a),o);l=o.split(".")[0];do if(f=a.context
,f&&(h=!0,c=s(e,f,u),c&&("object"==typeof c||"function"==typeof c)&&l in c))return f+"."+o;while(a=a.parent);return h||e._parent&&!e.isolated?n.call(e.data,l)?o:void 0!==s(e,o)?o:void 0:o}}(b,v,x,T),C=function(e){var t,n,r,i,s=[""];for(t=e.length;t--;)for(n=e[t],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),s[i]!==!0&&(s.push(i),s[i]=!0);return s},k=function(){function e(e){var n,r,i,s,o,u;for(n=e.split("."),r=t(n.length),o=[],i=function(e,t){return e?"*":n[t]},s=r.length;s--;)u=r[s].map(i).join("."),o[u]||(o.push(u),o[u]=!0);return o}function t(e){var t,n,i,s,o,u="";if(!r[e]){for(i=[];u.length<e;)u+=1;for(t=parseInt(u,2),s=function(e){return"1"===e},o=0;t>=o;o+=1){for(n=o.toString(2);n.length<e;)n="0"+n;i[o]=Array.prototype.map.call(n,s)}r[e]=i}return r[e]}var n=/[^\.]+$/,r={};return function i(t,r,s,o,u){var a,f,l,c,h,p,d,v;for(a=t._patternObservers.length;a--;)f=t._patternObservers[a],f.regex.test(s)&&f.update(s);o||(v=function(e){if(l=t._depsMap[e])for(a=l.length;a--;)c=l[a],h=n.exec(c)[0],p=s?s+"."+h:h,i(t,c,p)},u?(d=e(s),d.forEach(v)):v(r))}}(),L=function(e,t){function n(t,n,i){var s;for(t._patternObservers.length&&e(t,n,n,i,!0),s=0;s<t._deps.length;s+=1)r(t,n,s,i)}function r(e,t,n,r){var a,f,l=e._deps[n];l&&(a=o(e,t),f=o(e,t,u),i(l[t],a,f),r||s(e._depsMap[t],e,n))}function i(e,t,n){e&&e.forEach(function(e){return e.setValue(t,n)})}function s(e,t,n,i){var s;if(e)for(s=e.length;s--;)r(t,e[s],n,i)}var o,u={evaluateWrapped:!0};return t.push(function(){o=t.get}),n.multiple=function(t,n,i){var s,o,u;if(u=n.length,t._patternObservers.length)for(s=u;s--;)e(t,n[s],n[s],i,!0);for(s=0;s<t._deps.length;s+=1)if(t._deps[s])for(o=u;o--;)r(t,n[o],s,i)},n}(k,b),A=function(e){var t,n,r,i;return t=function(e,t){var s=[];return s.detachQueue=[],s.remove=r,s.init=i,s._check=n,s._callback=e,s._previous=t,t&&t.push(s),s},n=function(){var e;if(this._ready&&!this.length){for(;e=this.detachQueue.pop();)e.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},r=function(t){e(this,t),this._check()},i=function(){this._ready=!0,this._check()},t}(w),O=function(e,t,n,r,i,s,o,u){function a(){var e,n,i,u,a;for(i=N.length;i--;)e=N[i],e._changes.length&&(n=s(e._changes),o.multiple(e,n,!0));for(f();v;){for(v=!1;e=E.pop();)e.update(),e.dirty=!1;for(;e=T.pop();)e();for(;e=b.pop();)h(e.root,e.keypath,r(e.root,e.keypath)),y[e.keypath]=!1;f()}for(;e=S.pop();)e.update();for(;e=x.pop();)e();for(;e=g.pop();)e.locked=!1;for(;e=N.pop();)if(N[e._guid]=!1,e._changes.length){for(u={};a=e._changes.pop();)u[a]=c(e,a);e.fire("change",u)}p&&(t.update(),p=!1)}function f(){var e,t,n;if(w.length)for(e=w.splice(0,w.length);t=e.pop();)t.keypath||(n=i(t.root,t.ref,t.parentFragment),void 0!==n?t.resolve(n):w.push(t))}e.push(function(){c=e.get,h=e.set});var l,c,h,p,d,v=!1,m=!1,g=[],y={},b=[],w=[],E=[],S=[],x=[],T=[],N=[];return l={start:function(e,t){this.addInstance(e),m||(d=u(t,d))},end:function(){if(m)return void f();m=!0;do a();while(v);m=!1,d.init(),d=d._previous},addInstance:function(e){e&&!N[e._guid]&&(N.push(e),N[N._guid]=!0)},registerTransition:function(e){e._manager=d,d.push(e)},viewUpdate:function(e){v=!0,S.push(e)},lockAttribute:function(e){e.locked=!0,g.push(e)},scheduleCssUpdate:function(){m?p=!0:t.update()},modelUpdate:function(e,t){t?n(E,e):(v=!0,E.push(e))},addCheckboxBinding:function(e){y[e.keypath]||(v=!0,b.push(e),y[e.keypath]=!0)},addUnresolved:function(e){v=!0,w.push(e)},removeUnresolved:function(e){n(w,e)},detachWhenReady:function(e){d.detachQueue.push(e)},afterModelUpdate:function(e){v=!0,T.push(e)},afterViewUpdate:function(e){v=!0,x.push(e)}},e.runloop=l,l}(b,E,w,S,N,C,L,A),M=function(e,t,n){var r=[],i={tick:function(){var s,o,u;for(u=t(),n.start(),s=0;s<r.length;s+=1)o=r[s],o.tick(u)||r.splice(s--,1);n.end(),r.length?e(i.tick):i.running=!1},add:function(t){r.push(t),i.running||(i.running=!0,e(i.tick))},abort:function(e,t){for(var n,i=r.length;i--;)n=r[i],n.root===t&&n.keypath===e&&n.stop()}};return i}(g,y,O),_=function(){var e=Object.prototype.toString;return function(t){return"[object Array]"===e.call(t)}}(),D=function(e){return function(t){var n,r;if(!t||"object"!=typeof t)return t;if(e(t))return t.slice();n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}}(_),P={},H=function(e,t,n){switch(t){case"splice":return n;case"sort":case"reverse":return null;case"pop":return e.length?[-1]:null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},B=function(e,t){var n,r,i,s,o,u,a;return t?(n=+(t[0]<0?e.length+t[0]:t[0]),o=Math.max(0,t.length-2),u=void 0!==t[1]?t[1]:e.length-n,u=Math.min(u,e.length-n),a=o-u,s=e.length+a,a?(r=Math.max(e.length,s),i=Math.max(e.length,s)):r=i=n+o,{rangeStart:n,rangeEnd:r,clearEnd:i,balance:a,added:o,removed:u}):null},j={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53},F=function xo(e,t,n){var r,i,s;if(n||(i=e._wrapped[t])&&i.teardown()!==!1&&(e._wrapped[t]=null),(s=e._computations[t])&&s.compute(),e._cache[t]=void 0,r=e._cacheMap[t])for(;r.length;)xo(e,r.pop())},I=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}(),q=function(e,t,n,r,i){function s(e,u,a,f){var l,c,h,p,d,v,m,g;t(e._cache[u],a)||(d=e._computations[u],v=e._wrapped[u],m=e._evaluators[u],d&&!d.setting&&d.set(a),v&&v.reset&&(g=v.reset(a)!==!1,g&&(a=v.get())),m&&(m.value=a),d||m||g||(l=u.split("."),c=l.pop(),h=l.join("."),v=e._wrapped[h],v&&v.set?v.set(c,a):(p=v?v.get():o(e,h),p||(p=n(c),s(e,h,p,!0)),p[c]=a)),r(e,u,g),f||(e._changes.push(u),i(e,u)))}var o;return e.push(function(){o=e.get}
),e.set=s,s}(b,p,I,F,L),R=function(e,t,n,r,i,s){var o;return s.push(function(){o=s.get}),function(s,u,a,f){var l,c,h,p,d;if(l=s.root,c=s.keypath,l._changes.push(c),"sort"===a||"reverse"===a)return void i(l,c,u);if(f){for(p=f.rangeStart;p<f.clearEnd;p+=1)t(l,c+"."+p);if(l._patternObservers.length)for(p=f.rangeStart;p<f.rangeEnd;p+=1)r(l,c+"."+p,c+"."+p,!1,!0);if(h=function(t){t.keypath===c&&t.type===e.SECTION&&!t.inverted&&t.docFrag?t.splice(f):t.setValue(o(t.root,t.keypath))},l._deps.forEach(function(e){var t=e[c];t&&t.forEach(h)}),f.added&&f.removed)for(p=f.rangeStart;p<f.rangeEnd;p+=1)d=c+"."+p,n(l,d);f.balance&&(t(l,c+".length"),n(l,c+".length",!0))}}}(j,F,L,k,q,b),U=function(e,t,n,r,i){var s,o,u,a=[],f=["pop","push","reverse","shift","sort","splice","unshift"];return f.forEach(function(s){var o=function(){var t,o,u,a,f;for(t=n(this,s,Array.prototype.slice.call(arguments)),o=r(this,t),u=Array.prototype[s].apply(this,arguments),this._ractive.setting=!0,f=this._ractive.wrappers.length;f--;)a=this._ractive.wrappers[f],e.start(a.root),i(a,this,s,o),e.end();return this._ractive.setting=!1,u};t(a,s,{value:o})}),s={},s.__proto__?(o=function(e){e.__proto__=a},u=function(e){e.__proto__=Array.prototype}):(o=function(e){var n,r;for(n=f.length;n--;)r=f[n],t(e,r,{value:a[r],configurable:!0})},u=function(e){var t;for(t=f.length;t--;)delete e[f[t]]}),o.unpatch=u,o}(O,a,H,B,R),z=function(e,t,n){var r,i,s;return r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}},i=function(t,r,i){this.root=t,this.value=r,this.keypath=i,r._ractive||(e(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[t._guid]||(r._ractive.instances[t._guid]=0,r._ractive.instances.push(t)),r._ractive.instances[t._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,o;if(e=this.value,t=e._ractive,r=t.wrappers,i=t.instances,t.setting)return!1;if(o=r.indexOf(this),-1===o)throw new Error(s);if(r.splice(o,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(o=i.indexOf(this.root),-1===o)throw new Error(s);i.splice(o,1)}}else delete e._ractive,n.unpatch(this.value)}},s="Something went wrong in a rather interesting way",r}(a,_,U),W=function(e,t,n,r,i){function s(t,n,s){function o(t){var s,o;t.value=n,t.updating||(o=t.ractive,s=t.keypath,t.updating=!0,e.start(o),o._changes.push(s),r(o,s),i(o,s),e.end(),t.updating=!1)}var u,a,f,l,c,h;if(u=t.obj,a=t.prop,s&&!s.configurable){if("length"===a)return;throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}s&&(f=s.get,l=s.set),c=f||function(){return n},h=function(e){l&&l(e),n=f?f():e,h._ractiveWrappers.forEach(o)},h._ractiveWrappers=[t],Object.defineProperty(u,a,{get:c,set:h,enumerable:!0,configurable:!0})}var o,u;try{Object.defineProperty({},"test",{value:0}),o={filter:function(e,t,r){var i,s,o,u,a;return t?(i=t.split("."),s=i.pop(),o=i.join("."),(u=r._wrapped[o])&&!u.magic?!1:(a=r.get(o),n(a)&&/^[0-9]+$/.test(s)?!1:a&&("object"==typeof a||"function"==typeof a))):!1},wrap:function(e,t,n){return new u(e,t,n)}},u=function(e,t,n){var r,i,o,u;return this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,r=n.split("."),this.prop=r.pop(),i=r.join("."),this.obj=i?e.get(i):e.data,o=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),o&&o.set&&(u=o.set._ractiveWrappers)?void (-1===u.indexOf(this)&&u.push(this)):void s(this,t,o)},u.prototype={get:function(){return this.value},reset:function(e){this.updating||(this.updating=!0,this.obj[this.prop]=e,r(this.ractive,this.keypath),this.updating=!1)},set:function(e,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=t(e),this.updating=!1),this.obj[this.prop][e]=n)},teardown:function(){var e,t,n,r,i;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void (t&&(r=t._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(a){o=!1}return o}(O,I,_,F,L),X=function(e,t){var n,r;return e&&(n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=e.wrap(n,r,i),this.arrayWrapper=t.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}),n}(W,z),V=function(e,t,n,r){function i(e,t){var n,r={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);return r}function s(e){var t;return o[e]||(t=e?e+".":"",o[e]=function(n,r){var s;return"string"==typeof n?(s={},s[t+n]=r,s):"object"==typeof n?t?i(n,e):n:void 0}),o[e]}var o={};return function(i,o,u,a){var f,l,c,h;for(f=i.adapt.length,l=0;f>l;l+=1){if(c=i.adapt[l],"string"==typeof c){if(!e[c])throw new Error('Missing adaptor "'+c+'"');c=i.adapt[l]=e[c]}if(c.filter(u,o,i))return h=i._wrapped[o]=c.wrap(i,u,o,s(o)),h.value=u,u}return a||(i.magic?r.filter(u,o,i)?i._wrapped[o]=r.wrap(i,u,o):n.filter(u,o,i)&&(i._wrapped[o]=n.wrap(i,u,o)):i.modifyArrays&&t.filter(u,o,i)&&(i._wrapped[o]=t.wrap(i,u,o))),u}}(P,z,W,X),$=function(){function e(e,t){var n,r,i;for(n=t.split(".");n.length;)n.pop(),r=n.join("."),i=e._depsMap[r]||(e._depsMap[r]=[]),void 0===i[t]&&(i[t]=0,i[i.length]=t),i[t]+=1,t=r}return function(t){var n,r,i,s,o,u;i=t.root,s=t.keypath,o=t.priority,n=i._deps[o]||(i._deps[o]={}),r=n[s]||(n[s]=[]),r.push(t),t.registered=!0,s&&((u=i._evaluators[s])&&(u.dependants||u.wake(),u.dependants+=1),e(i,s))}}(),J=function(){function e(e,t){var n,r,i;for(n=t.split(".");n.length;)n.pop(),r=n.join("."),i=e._depsMap[r],i[t]-=1,i[t]||(i.splice(i.indexOf(t),1),i[t]=void 0),t=r}return function(t){var n,r,i,s,o,u;if(
i=t.root,s=t.keypath,o=t.priority,n=i._deps[o][s],r=n.indexOf(t),-1===r||!t.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");n.splice(r,1),t.registered=!1,s&&((u=i._evaluators[s])&&(u.dependants-=1,u.dependants||u.sleep()),e(i,s))}}(),K=function(e,t,n,r,i,s){var o,u;e.push(function(){o=e.get,u=e.set});var a=function(e,t,n,r,s){this.root=e,this.keypath=t,this.priority=s,this.otherInstance=n,this.otherKeypath=r,i(this),this.value=o(this.root,this.keypath)};return a.prototype={setValue:function(e){this.updating||this.counterpart&&this.counterpart.updating||n(e)&&e._ractive&&e._ractive.setting||r(e,this.value)||(this.updating=!0,t.addInstance(this.otherInstance),u(this.otherInstance,this.otherKeypath,e),this.value=e,this.updating=!1)},rebind:function(e){s(this),s(this.counterpart),this.keypath=e,this.counterpart.otherKeypath=e,i(this),i(this.counterpart)},teardown:function(){s(this)}},function(e,t,n,r){var i,s,o,u,f,l;i=n+"="+r,o=e.bindings,o[i]||(o[i]=!0,s=e.instance,u=e.parentFragment.priority,f=new a(t,n,s,r,u),o.push(f),s.twoway&&(l=new a(s,r,t,n,1),o.push(l),f.counterpart=l,l.counterpart=f))}}(b,O,_,p,$,J),Q=function(e,t,n){function r(e,r,i,s,o){n(r,s,o,!0),t(r.component,e,i,s)}var i;return e.push(function(){i=e.get}),function(e,t){var n,s,o,u,a;if(n=e._parent,s=e.component.parentFragment,s.indexRefs&&void 0!==(a=s.indexRefs[t]))return e.component.indexRefBindings[t]=t,a;do if(s.context&&(o=s.context+"."+t,u=i(n,o),void 0!==u))return r(n,e,o,t,u),u;while(s=s.parent);return u=i(n,t),void 0!==u?(r(n,e,t,t,u),u):void 0}}(b,K,q),G={FAILED_LOOKUP:!0},Y=function(e,t,n,r,i,s){function o(e,t,n){var a,f,l,c,h,p,d=e._cache;return void 0===d[t]?((c=e._computations[t])?a=c.value:(h=e._wrapped[t])?a=h.value:t?a=(p=e._evaluators[t])?p.value:u(e,t):(r(e,"",e.data),a=e.data),d[t]=a):a=d[t],a===s&&(f=t.split(".")[0],l=f===t||void 0===o(e,f),a=e._parent&&!e.isolated&&l?i(e,t,n):void 0),n&&n.evaluateWrapped&&(h=e._wrapped[t])&&(a=h.get()),a}function u(e,i){var u,a,f,l,c,h,p,d;return u=i.split("."),a=u.pop(),f=u.join("."),l=o(e,f),(p=e._wrapped[f])&&(l=p.get()),null!==l&&void 0!==l?((c=e._cacheMap[f])?-1===c.indexOf(i)&&c.push(i):e._cacheMap[f]=[i],"object"!=typeof l||a in l?(d=!t.call(l,a),h=d?n(l[a]):l[a],h=r(e,i,h,!1),e._cache[i]=h,h):e._cache[i]=s):void 0}return e.get=o,o}(b,x,D,V,Q,G),Z=function(){var e,t={};return e="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(e,n){if(!n){if(t[e])return;t[e]=!0}console.warn(e)}:function(){}}(),et=function(){var e=Object.prototype.toString;return function(t){return t&&"[object Object]"===e.call(t)}}(),tt=function(e,t,n,r,i){var s,o,u;return e.push(function(){o=e.interpolate}),u=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,s={number:function(e,t){var n;return i(e)&&i(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var r,i,s,u;if(!n(e)||!n(t))return null;for(r=[],i=[],u=s=Math.min(e.length,t.length);u--;)i[u]=o(e[u],t[u]);for(u=s;u<e.length;u+=1)r[u]=e[u];for(u=s;u<t.length;u+=1)r[u]=t[u];return function(e){for(var t=s;t--;)r[t]=i[t](e);return r}},object:function(e,n){var i,s,u,a,f;if(!r(e)||!r(n))return null;i=[],a={},u={};for(f in e)t.call(e,f)&&(t.call(n,f)?(i.push(f),u[f]=o(e[f],n[f])):a[f]=e[f]);for(f in n)t.call(n,f)&&!t.call(e,f)&&(a[f]=n[f]);return s=i.length,function(e){for(var t,n=s;n--;)t=i[n],a[t]=u[t](e);return a}},cssLength:function(e,t){var n,r,i,s,o,a,f,l;return 0!==e&&"string"!=typeof e||0!==t&&"string"!=typeof t?null:(n=u.exec(e),r=u.exec(t),i=n?n[2]:"",s=r?r[2]:"",i&&s&&i!==s?null:(f=i||s,o=n?+n[1]:0,a=r?+r[1]:0,l=a-o,l?function(e){return o+e*l+f}:function(){return o+f}))}}}(b,x,_,et,l),nt=function(e,t,n){function r(e){return function(){return e}}var i=function(e,i,s,o){if(e===i)return r(i);if(o){if(s.interpolators[o])return s.interpolators[o](e,i)||r(i);t('Missing "'+o+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,i)||n.array(e,i)||n.object(e,i)||n.cssLength(e,i)||r(i)};return e.interpolate=i,i}(b,Z,tt),rt=function(e,t,n,r){var i=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return i.prototype={tick:function(){var n,i,s,o,u,a;return a=this.keypath,this.running?(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==a&&(t.start(this.root),r(this.root,a,this.to),t.end()),this.step&&this.step(1,this.to),this.complete(this.to),u=this.root._animations.indexOf(this),-1===u&&e("Animation was not found"),this.root._animations.splice(u,1),this.running=!1,!1):(i=this.easing?this.easing(n/this.duration):n/this.duration,null!==a&&(s=this.interpolator(i),t.start(this.root),r(this.root,a,s),t.end()),this.step&&this.step(i,s),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&e("Animation was not found"),this.root._animations.splice(t,1)}},i}(Z,O,nt,q),it=function(e,t,n,r,i,s){function o(t,o,u,f){var l,c,h,p;return o&&(o=n(o)),null!==o&&(p=i(t,o)),r.abort(o,t),e(p,u)?(f.complete&&f.complete(f.to),a):(f.easing&&(l="function"==typeof f.easing?f.easing:t.easing[f.easing],"function"!=typeof l&&(l=null)),c=void 0===f.duration?400:f.duration,h=new s({keypath:o,from:p,to:u,root:t,duration:c,easing:l,interpolator:f.interpolator,step:f.step,complete:f.complete}),r.add(h),t._animations.push(h),h)}var u=function(){},a={stop:u};return function(e,n,r){var i,s,a,f,l,c,h,p,d,v,m,g,y,b;if(i=new t(function(e){s=e}),"object"==typeof e){r=n||{},c=r.easing,h=r.duration,l=[],p=r.step,d=r.complete,(p||d)&&(m={},r.step=null,r.complete=null,v=function(e){return function(t,n){m[e]=n}});for(a in e)e.hasOwnProperty(a)&&((p||d)&&(g=v(a),r={easing:c,duration:h},p&&(r.step=g)),r.complete=
d?g:u,l.push(o(this,a,e[a],r)));return(p||d)&&(b={easing:c,duration:h},p&&(b.step=function(e){p(e,m)}),d&&i.then(function(e){d(e,m)}),b.complete=s,y=o(this,null,null,b),l.push(y)),{stop:function(){for(var e;e=l.pop();)e.stop();y&&y.stop()}}}return r=r||{},r.complete&&i.then(r.complete),r.complete=s,f=o(this,e,n,r),i.stop=function(){f.stop()},i}}(p,d,v,M,Y,rt),st=function(e){return function(){return this.el&&e(this.el.__ractive_instances__,this),this.fragment.detach()}}(w),ot=function(e){return this.el?this.fragment.find(e):null},ut=function(e,t,n){var r,i,s,o,u,a,f,l;if(e){for(i=n("div"),s=["matches","matchesSelector"],l=function(e){return function(t,n){return t[e](n)}},a=s.length;a--&&!r;)if(o=s[a],i[o])r=l(o);else for(f=t.length;f--;)if(u=t[a]+o.substr(0,1).toUpperCase()+o.substring(1),i[u]){r=l(u);break}r||(r=function(e,t){var n,r,s;for(r=e.parentNode,r||(i.innerHTML="",r=i,e=e.cloneNode(),i.appendChild(e)),n=r.querySelectorAll(t),s=n.length;s--;)if(n[s]===e)return!0;return!1})}else r=null;return r}(u,m,o),at=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);return r?(this.push(t.node||t.instance),n||this._makeDirty(),!0):void 0}}(ut),ft=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},lt=function(){function e(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function t(t){var n,r;for(n=[t],r=e(t);r;)n.push(r),r=e(r);return n}return function(e,n){var r,i,s,o,u,a,f,l,c,h;for(r=t(e.component||e._ractive.proxy),i=t(n.component||n._ractive.proxy),s=r[r.length-1],o=i[i.length-1];s&&s===o;)r.pop(),i.pop(),u=s,s=r[r.length-1],o=i[i.length-1];if(s=s.component||s,o=o.component||o,c=s.parentFragment,h=o.parentFragment,c===h)return a=c.items.indexOf(s),f=h.items.indexOf(o),a-f||r.length-i.length;if(l=u.fragments)return a=l.indexOf(c),f=l.indexOf(h),a-f||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),ct=function(e){return function(t,n){var r;return t.compareDocumentPosition?(r=t.compareDocumentPosition(n),2&r?1:-1):e(t,n)}}(lt),ht=function(e,t){return function(){this.sort(this._isComponentQuery?t:e),this._dirty=!1}}(ct,lt),pt=function(e){return function(){var t=this;this._dirty||(this._dirty=!0,e.afterViewUpdate(function(){t._sort()}))}}(O),dt=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},vt=function(e,t,n,r,i,s){return function(o,u,a,f){var l=[];return e(l,{selector:{value:u},live:{value:a},_isComponentQuery:{value:f},_test:{value:t}}),a?(e(l,{cancel:{value:n},_root:{value:o},_sort:{value:r},_makeDirty:{value:i},_remove:{value:s},_dirty:{value:!1,writable:!0}}),l):l}}(f,at,ft,ht,pt,dt),mt=function(e){return function(t,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!1),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAll(t,i),i)):[]}}(vt),gt=function(e){return function(t,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!0),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAllComponents(t,i),i)}}(vt),yt=function(e){return this.fragment.findComponent(e)},bt=function(e){var t,n,r,i=this._subs[e];if(i)for(t=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,t)},wt=function(e,t,n,r){var i,s={};e.push(function(){i=e.get});var o=function(e,t){this.root=e,this.ref=t,this.parentFragment=s,e._unresolvedImplicitDependencies[t]=!0,e._unresolvedImplicitDependencies.push(this),n.addUnresolved(this)};return o.prototype={resolve:function(){var e=this.root;r(e,this.ref),e._unresolvedImplicitDependencies[this.ref]=!1,t(e._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}},o}(b,w,O,L),Et=function(e,t,n){var r={isTopLevel:!0};return function(i){var s;return i=e(i),s=t(this,i,r),this._captured&&this._captured[i]!==!0&&(this._captured.push(i),this._captured[i]=!0,void 0===s&&this._unresolvedImplicitDependencies[i]!==!0&&new n(this,i)),s}}(v,Y,wt),St=function(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null},xt=function(e){return function(t,n){if(!this.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this)}}(St),Tt=function(e,t){var n,r,i,s;return n={},r=0,i=e.map(function(e,i){var o,u,a;u=r,a=t.length;do{if(o=t.indexOf(e,u),-1===o)return s=!0,-1;u=o+1}while(n[o]&&a>u);return o===r&&(r+=1),o!==i&&(s=!0),n[o]=!0,o}),i.unchanged=!s,i},Nt=function(e,t){return function(n,r,i,s){var o;n._changes.push(r),o=function(t){t.type===e.REFERENCE?t.update():t.keypath===r&&t.type===e.SECTION&&!t.inverted&&t.docFrag?t.merge(i):t.update()},n._deps.forEach(function(e){var t=e[r];t&&t.forEach(o)}),s||t(n,r+".length",!0)}}(j,L),Ct=function(e,t,n,r,i,s,o){function u(e){return JSON.stringify(e)}function a(e){if(e===!0)return u;if("string"==typeof e)return f[e]||(f[e]=function(t){return t[e]}),f[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var f={};return function(u,f,l){var c,h,p,d,v,m,g,y;if(c=this.get(u),!n(c)||!n(f))return this.set(u,f,l&&l.complete);if(v=c.length===f.length,l&&l.compare
){d=a(l.compare);try{h=c.map(d),p=f.map(d)}catch(b){if(this.debug)throw b;t("Merge operation: comparison failed. Falling back to identity checking"),h=c,p=f}}else h=c,p=f;return m=s(h,p),g=new r(function(e){y=e}),e.start(this,y),i(this,u,f,!0),o(this,u,m,v),e.end(),l&&l.complete&&g.then(l.complete),g}}(O,Z,_,d,q,Tt,Nt),kt=function(e,t,n){var r=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.priority=0,this.context=r&&r.context?r.context:e};return r.prototype={init:function(e){this.value=n(this.root,this.keypath),e!==!1&&this.update()},setValue:function(n){var r=this;t(n,this.oldValue)||(this.value=n,this.defer&&this.ready?e.afterViewUpdate(function(){return r.update()}):e.afterModelUpdate(function(){return r.update()}))},update:function(){if(!this.updating){this.updating=!0;try{this.callback.call(this.context,this.value,this.oldValue,this.keypath)}catch(e){if(this.debug||this.root.debug)throw e}this.oldValue=this.value,this.updating=!1}}},r}(O,p,Y),Lt=function(e){return function(t,n){function r(n,r){var i,s,o;i=t._wrapped[r]?t._wrapped[r].get():t.get(r);for(s in i)!i.hasOwnProperty(s)||"_ractive"===s&&e(i)||(o=r?r+"."+s:s,n.push(o));return n}function i(e){return function(t){return t?t+"."+e:e}}var s,o,u,a;for(s=n.split("."),a=[""];o=s.shift();)"*"===o?a=a.reduce(r,[]):""===a[0]?a[0]=o:a=a.map(i(o));return u={},a.forEach(function(e){u[e]=t.get(e)}),u}}(_),At=function(e,t,n,r,i){var s,o=/\*/,u=Array.prototype.slice;return s=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.keypath=t,this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:e},s.prototype={init:function(e){var t,n;if(t=i(this.root,this.keypath),e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(n);else this.values=t},update:function(t){var s,u;if(o.test(t)){s=i(this.root,t);for(t in s)s.hasOwnProperty(t)&&this.update(t)}else if(!(".length"===t.substr(-7)&&(u=r(this.root,t.substr(0,t.length-7)),n(u)&&u._ractive&&u._ractive.setting)))return this.defer&&this.ready?void e.addObserver(this.getProxy(t)):void this.reallyUpdate(t)},reallyUpdate:function(e){var n,i,s;if(n=r(this.root,e),this.updating)return void (this.values[e]=n);if(this.updating=!0,!t(n,this.values[e])||!this.ready){i=u.call(this.regex.exec(e),1),s=[n,this.values[e],e].concat(i);try{this.callback.apply(this.context,s)}catch(o){if(this.debug||this.root.debug)throw o}this.values[e]=n}this.updating=!1},getProxy:function(e){var t=this;return this.proxies[e]||(this.proxies[e]={update:function(){t.reallyUpdate(e)}}),this.proxies[e]}},s}(O,p,_,Y,Lt),Ot=function(e,t,n,r,i){var s=/\*/,o={};return function(u,a,f,l){var c,h;return a=e(a),l=l||o,s.test(a)?(c=new i(u,a,f,l),u._patternObservers.push(c),h=!0):c=new r(u,a,f,l),t(c),c.init(l.init),c.ready=!0,{cancel:function(){var e;h&&(e=u._patternObservers.indexOf(c),-1!==e&&u._patternObservers.splice(e,1)),n(c)}}}}(v,$,J,kt,At),Mt=function(e,t){return function(n,r,i){var s,o,u,a;if(e(n)){i=r,o=n,s=[];for(n in o)o.hasOwnProperty(n)&&(r=o[n],s.push(this.observe(n,r,i)));return{cancel:function(){for(;s.length;)s.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",t(this,n,r,i);if(u=n.split(" "),1===u.length)return t(this,n,r,i);for(s=[],a=u.length;a--;)n=u[a],n&&s.push(t(this,n,r,i));return{cancel:function(){for(;s.length;)s.pop().cancel()}}}}(et,Ot),_t=function(e){return e.trim()},Dt=function(e){return""!==e},Pt=function(e,t){return function(n,r){var i,s=this;if(n)i=n.split(" ").map(e).filter(t),i.forEach(function(e){var t,n;(t=s._subs[e])&&(r?(n=t.indexOf(r),-1!==n&&t.splice(n,1)):s._subs[e]=[])});else for(n in this._subs)delete this._subs[n]}}(_t,Dt),Ht=function(e,t){return function(n,r){var i,s,o,u=this,a=this;if("object"==typeof n){i=[];for(s in n)n.hasOwnProperty(s)&&i.push(this.on(s,n[s]));return{cancel:function(){for(var e;e=i.pop();)e.cancel()}}}return o=n.split(" ").map(e).filter(t),o.forEach(function(e){(u._subs[e]||(u._subs[e]=[])).push(r)}),{cancel:function(){a.off(n,r)}}}}(_t,Dt),Bt=function(e,t,n,r){function i(e){e.init&&e.init(e.initOptions),e._childInitQueue.splice(0).forEach(i)}return function(s,o){var u,a,f;if(this._rendering=!0,u=new n(function(e){a=e}),e.start(this,a),this.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return s=r(s)||this.el,o=r(o)||this.anchor,this.el=s,this.anchor=o,this.constructor.css&&t.add(this.constructor),s&&((f=s.__ractive_instances__)?f.push(this):s.__ractive_instances__=[this],o?s.insertBefore(this.fragment.render(),o):s.appendChild(this.fragment.render())),this._parent&&this._parent._rendering?this._parent._childInitQueue.push(this):i(this),delete this._rendering,e.end(),this.rendered=!0,u}}(O,E,d,St),jt=function(){this.dirtyValue=this.dirtyArgs=!0,this.inited&&this.owner.bubble&&this.owner.bubble()},Ft=function(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.detach())}),e)},It=function(e){return function(t){var n,r,i,s,o;if(this.nodes){for(r=this.nodes.length,n=0;r>n;n+=1)if(s=this.nodes[n],1===s.nodeType){if(e(s,t))return s;if(o=s.querySelector(t))return o}return null}if(this.items){for(r=this.items.length,n=0;r>n;n+=1)if(i=this.items[n],i.find&&(o=i.find(t)))return o;return null}}}(ut),qt=function(e){return function(t,n){var r,i,s,o,u,a,f;if(this.nodes){for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),u=o.querySelectorAll(t)))for(a=u.length,f=0;a>f;f+=1)n.push(u[f])}else if(this.items)for(i=this.items.length,r=0;i>r;r+=1)s=this.items[r],s.findAll&&s.findAll(t,n);return n}}(ut),Rt=function(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t);return t},Ut=function(e){var t
,n,r,i;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(e)))return i;return null}},zt=function(e){var t=e.index;return this.items[t+1]?this.items[t+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Wt=function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},Xt=function(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.el},Vt=function(){var e;try{Object.create(null),e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;return null===t?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}return e}(),$t={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},Jt=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(t))?{t:e.NUMBER_LITERAL,v:r}:null}}(j),Kt=function(e){return function(t){var n=t.remaining();return"true"===n.substr(0,4)?(t.pos+=4,{t:e.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(t.pos+=5,{t:e.BOOLEAN_LITERAL,v:"false"}):null}}(j),Qt=function(){var e,t,n;return e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var s,o,u,a;for(s=i.pos,o='"',u=!1;!u;)a=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r),a?o+='"'===a?'\\"':"\\'"===a?"'":a:(a=i.matchPattern(n),a?o+="\\u"+("000"+a.charCodeAt(1).toString(16)).slice(-4):u=!0);return o+='"',JSON.parse(o)}}}(),Gt=function(e){return e('"')}(Qt),Yt=function(e){return e("'")}(Qt),Zt=function(e,t,n){return function(r){var i,s;return i=r.pos,r.matchString('"')?(s=n(r),r.matchString('"')?{t:e.STRING_LITERAL,v:s}:(r.pos=i,null)):r.matchString("'")?(s=t(r),r.matchString("'")?{t:e.STRING_LITERAL,v:s}:(r.pos=i,null)):null}}(j,Gt,Yt),en={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},tn=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var s;return(s=e(i))?r.test(s.v)?s.v:'"'+s.v.replace(/"/g,'\\"')+'"':(s=t(i))?s.v:(s=i.matchPattern(n.name))?s:void 0}}(Zt,Jt,en),nn=function(e,t){return function(n){var r,i,s;return r=n.pos,n.allowWhitespace(),i=t(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),s=n.readExpression(),null===s?(n.pos=r,null):{t:e.KEY_VALUE_PAIR,k:i,v:s}):(n.pos=r,null))}}(j,tn),rn=function(e){return function t(n){var r,i,s,o;return r=n.pos,s=e(n),null===s?null:(i=[s],n.matchString(",")?(o=t(n),o?i.concat(o):(n.pos=r,null)):i)}}(nn),sn=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=t(n),n.allowWhitespace(),n.matchString("}")?{t:e.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(j,rn),on=function(e){return function t(n){function r(e){s.push(e)}var i,s,o,u;return i=n.pos,n.allowWhitespace(),o=n.readExpression(),null===o?null:(s=[o],n.allowWhitespace(),n.matchString(",")&&(u=t(n),null===u&&n.error(e.expectedExpression),u.forEach(r)),s)}}($t),un=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=t(n),n.matchString("]")?{t:e.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(j,on),an=function(e,t,n,r,i){return function(s){var o=e(s)||t(s)||n(s)||r(s)||i(s);return o}}(Jt,Kt,Zt,sn,un),fn=function(e,t){var n,r,i,s;return n=/^\.[a-zA-Z_$0-9]+/,i=function(e){var t=e.matchPattern(r);return t?"."+t:null},r=/^\[(0|[1-9][0-9]*)\]/,s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(r){var o,u,a,f,l,c,h;for(o=r.pos,u="";r.matchString("../");)u+="../";if(u||(f=r.matchString(".")||""),a=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(t.name)||"",!u&&!f&&s.test(a))return{t:e.GLOBAL,v:a};if(l=(u||f)+a,!l)return null;for(;c=r.matchPattern(n)||i(r);)l+=c;return r.matchString("(")&&(h=l.lastIndexOf("."),-1!==h?(l=l.substr(0,h),r.pos=o+l.length):r.pos-=1),{t:e.REFERENCE,n:l.replace(/^this\./,"./").replace(/^this$/,".")}}}(j,en),ln=function(e,t){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(t.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(t.expectedParen),{t:e.BRACKETED,x:i}):null}}(j,$t),cn=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(an,fn,ln),hn=function(e,t,n){return function(r){var i,s,o;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),s=r.matchPattern(n.name))return{t:e.REFINEMENT,n:s};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),o=r.readExpression(),o||r.error(t.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:e.REFINEMENT,x:o}):null}}(j,$t,en),pn=function(e,t,n,r,i){return function(s){var o,u,a,f;if(u=t(s),!u)return null;for(;u;)if(o=s.pos,a=r(s))u={t:e.MEMBER,x:u,r:a};else{if(!s.matchString("("))break;s.allowWhitespace(),f=n(s),s.allowWhitespace(),s.matchString(")")||s.error(i.expectedParen),u={t:e.INVOCATION,x:u},f&&(u.o=f)}return u}}(j,cn,on,hn,$t),dn=function(e,t,n){var r,i;return i=function(n,r){return function(i){var s;return i.matchString(n)?(i.allowWhitespace(),s=i.readExpression(),s||i.error(t.expectedExpression),{s:n,o:s,t:e.PREFIX_OPERATOR}):r(i)}},function(){var e,t,s,o,u;for(o="! ~ + - typeof".split(" "),u=n,e=0,t=o.length;t>e;e+=1)s=i(o[e],u),u=s;r=u}(),r}(j,$t,pn),vn=function(e,t){var n,r;return r=function(t,n){return function(r){var i,s,o;if(s=n(r),!s)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(t))return r.pos=i,s;if("in"===t&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,s;if(r.allowWhitespace(),o=n(r),!o)return r.pos=i,s;s={t:e.INFIX_OPERATOR,s:t,o:[s,o]}}}},function(){var e,i,s,o,u;for(
o="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),u=t,e=0,i=o.length;i>e;e+=1)s=r(o[e],u),u=s;n=u}(),n}(j,dn),mn=function(e,t,n){return function(r){var i,s,o,u;return(s=t(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),o=r.readExpression(),o||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),u=r.readExpression(),u||r.error(n.expectedExpression),{t:e.CONDITIONAL,o:[s,o,u]}):(r.pos=i,s)):null}}(j,vn,$t),gn=function(e,t){function n(e){return JSON.stringify(String(e))}function r(n,i){var s,o;if(n.t===e.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),o=n.o||n.m)if(t(o))r(o,i);else for(s=o.length;s--;)r(o[s],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(t,r,s){var o=function(e){return i(t,e,s)};switch(r.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return r.v;case e.STRING_LITERAL:return n(r.v);case e.ARRAY_LITERAL:return"["+(r.m?r.m.map(o).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(r.m?r.m.map(o).join(","):"")+"}";case e.KEY_VALUE_PAIR:return r.k+":"+i(t,r.v,s);case e.PREFIX_OPERATOR:return("typeof"===r.s?"typeof ":r.s)+i(t,r.o,s);case e.INFIX_OPERATOR:return i(t,r.o[0],s)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(t,r.o[1],s);case e.INVOCATION:return i(t,r.x,s)+"("+(r.o?r.o.map(o).join(","):"")+")";case e.BRACKETED:return"("+i(t,r.x,s)+")";case e.MEMBER:return i(t,r.x,s)+i(t,r.r,s);case e.REFINEMENT:return r.n?"."+r.n:"["+i(t,r.x,s)+"]";case e.CONDITIONAL:return i(t,r.o[0],s)+"?"+i(t,r.o[1],s)+":"+i(t,r.o[2],s);case e.REFERENCE:return"${"+s.indexOf(r.n)+"}";default:t.error("Expected legal JavaScript")}}return function(e){var t,n=[];return r(e,n),t={r:n,s:i(this,e,n)}}}(j,et),yn=function(e,t,n,r,i){var s,o,u=/^\s+/;return o=function(e){this.name="ParseError",this.message=e},o.prototype=Error.prototype,s=function(e,t){var n,r;for(this.str=e,this.options=t||{},this.pos=0,this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},s.prototype={read:function(e){var t,n,r,i;for(e||(e=this.converters),t=this.pos,r=e.length,n=0;r>n;n+=1)if(this.pos=t,i=e[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(){var e,t,n,r,i,s;e=this.str.split("\n"),i=-1,r=0;do n=r,i++,t=e[i],r+=t.length+1;while(r<=this.pos);return s=this.pos-n,{line:i+1,ch:s+1,text:t,toJSON:function(){return[this.line,this.ch]},toString:function(){return"line "+this.line+" character "+this.ch+":\n"+this.text+"\n"+this.text.substr(0,this.ch-1).replace(/[\S]/g," ")+"^----"}}},error:function(e){var t,n;throw t=this.getLinePos(),n=e+" at "+t,new o(n)},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(u)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},s.extend=function(e){var r,i,o=this;r=function(e,t){s.call(this,e,t)},r.prototype=t(o.prototype);for(i in e)n.call(e,i)&&(r.prototype[i]=e[i]);return r.extend=s.extend,r},e.Parser=s,s}(b,Vt,x,mn,gn),bn=function(e,t,n){function r(e){var t,r,i;return e.allowWhitespace(),(t=n(e))?(i={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(r=e.read())?(i.value=r.v,i):null):null):null}var i,s,o,u,a,f,l;return s={"true":!0,"false":!1,"undefined":void 0,"null":null},o=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,a=/\$\{([^\}]+)\}/g,f=/^\$\{([^\}]+)\}/,l=/^\s*$/,i=e.extend({init:function(e,t){this.values=t.values},postProcess:function(e){return 1===e.length&&l.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(f),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(o))?{v:s[t]}:void 0},function(e){var t;return(t=e.matchPattern(u))?{v:+t}:void 0},function(e){var n,r=t(e);return r&&(n=e.values)?{v:r.v.replace(a,function(e,t){return t in n?n[t]:t})}:r},function(e){var t,n;if(!e.matchString("{"))return null;for(t={};n=r(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;for(t=[],e.allowWhitespace();n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]}),function(e,t){var n=new i(e,{values:t});return n.result}}(yn,Zt,tn),wn=function(e,t){function n(e,t,r,i){return i=i||0,e.map(function(e){var s,o,u;return e.text?e.text:e.fragments?e.fragments.map(function(e){return n(e.items,t,r,i)}).join(""):(s=r+"-"+i++,u=(o=e.root._wrapped[e.keypath])?o.value:e.value,t[s]=u,"${"+s+"}")}).join("")}var r={};return function(i){var s,o,u,a,f,l,c,h,p;return i=i||r,s=i.args,o=s||i.parse,c=s?"argsList":"value",h=s?"dirtyArgs":"dirtyValue",(this[h]||!this.hasOwnProperty(c))&&(1===this.items.length&&this.items[0].type===e.INTERPOLATOR?(u=this.items[0].value,void 0!==u&&(p=s?[u]:u)):(o&&(a={},f=n(this.items,a,this.root._guid),l=t(s?"["+f+"]":f,a)),p=l?l.value:s?[this.toString()]:this.toString()),this[c]=p,this[h]=!1),this[c]}}(j,bn),En=function(){var e=/</g,t=/>/g;return function(n){return n.replace(e,"&lt;").replace(t,"&gt;")}}(),Sn=function(){},xn=function(e){return e&&e.parentNode&&e.parentNode.removeChild(e),e},Tn=function(e){return function(){return e(this.node)}}(xn),Nn=function(e,t,n,r){var i=function(t){this.type=e.TEXT,this.text=t.template};return i.prototype={detach:r,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},teardown
:n,toString:function(e){return e?t(this.text):this.text},unrender:function(e){return e?this.detach():void 0}},i}(j,En,Sn,Tn),Cn=function(e,t){return function(){this.keypath?t(this):e.removeUnresolved(this)}}(O,J),kn=function(e){var t=function(t,n,r,i){this.root=t,this.ref=n,this.parentFragment=r,this.resolve=i,e.addUnresolved(this)};return t.prototype={teardown:function(){e.removeUnresolved(this)}},t}(O),Ln=function(e,t,n,r,i,s){function o(e,t,r){var i,s,o;if(!a.test(e.toString()))return n(e,"_nowrap",{value:!0}),e;if(!e["_"+t._guid]){n(e,"_"+t._guid,{value:function(){var n,r,i,o;if(n=t._captured,n||(t._captured=[]),r=e.apply(t,arguments),t._captured.length)for(i=s.length;i--;)o=s[i],o.updateSoftDependencies(t._captured);return t._captured=n,r},writable:!0});for(i in e)e.hasOwnProperty(i)&&(e["_"+t._guid][i]=e[i]);e["_"+t._guid+"_evaluators"]=[]}return s=e["_"+t._guid+"_evaluators"],o=s.indexOf(r),-1===o&&s.push(r),e["_"+t._guid]}var u,a;return a=/this/,u=function(t,n,r,s,u){var a;this.evaluator=r,this.keypath=n,this.root=t,this.argNum=s,this.type=e.REFERENCE,this.priority=u,a=t.get(n),"function"!=typeof a||a._nowrap||(a=o(a,t,r)),this.value=r.values[s]=a,i(this)},u.prototype={setValue:function(e){"function"!=typeof e||e._nowrap||(e=o(e,this.root,this.evaluator)),t(e,this.value)||(this.evaluator.values[this.argNum]=e,this.evaluator.bubble(),this.value=e)},invalidate:function(){this.setValue(r(this.root,this.keypath))},teardown:function(){s(this)}},u}(j,p,a,Y,$,J),An=function(e,t,n){var r=function(e,n,r){this.root=e,this.keypath=n,this.priority=r.priority,this.evaluator=r,t(this)};return r.prototype={setValue:function(t){e(t,this.value)||(this.evaluator.bubble(),this.value=t)},teardown:function(){n(this)}},r}(p,$,J),On=function(e,t,n,r,i,s,o,u){function a(e,t){var n,r;if(e=e.replace(/\$\{([0-9]+)\}/g,"_$1"),l[e])return l[e];for(r=[];t--;)r[t]="_"+t;return n=new Function(r.join(","),"return("+e+")"),l[e]=n,n}var f,l={};return f=function(e,t,n,r,i,s){var u=this;u.root=e,u.uniqueString=n,u.keypath=t,u.priority=s,u.fn=a(r,i.length),u.values=[],u.refs=[],u.dependants=0,i.forEach(function(t,n){t&&(t.indexRef?u.values[n]=t.value:u.refs.push(new o(e,t.keypath,u,n,s)))})},f.prototype={wake:function(){this.awake=!0},sleep:function(){this.awake=!1,e.modelUpdate(this,!0)},bubble:function(){!this.dirty&&this.awake&&(this.dirty=!0,e.modelUpdate(this))},getValue:function(){var e;try{e=this.fn.apply(null,this.values)}catch(n){this.root.debug&&t('Error evaluating "'+this.uniqueString+'": '+n.message||n),e=void 0}return e},update:function(){var e=this.getValue();return n(e,this.value)||(this.value=e,r(this.root,this.keypath),s(this.root,this.keypath,e,!0),i(this.root,this.keypath)),this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();r(this.root,this.keypath),this.root._evaluators[this.keypath]=null},invalidate:function(){this.refs.forEach(function(e){return e.invalidate()}),r(this.root,this.keypath),this.value=this.getValue()},updateSoftDependencies:function(e){var t,n,r;for(this.softRefs||(this.softRefs=[]),t=this.softRefs.length;t--;)r=this.softRefs[t],e[r.keypath]||(this.softRefs.splice(t,1),this.softRefs[r.keypath]=!1,r.teardown());for(t=e.length;t--;)n=e[t],this.softRefs[n]||(r=new u(this.root,n,this),this.softRefs.push(r),this.softRefs[n]=!0)}},f}(O,Z,p,F,L,V,Ln,An),Mn=function(e,t){return e.substr(0,t.length+1)===t+"."},_n=function(e){return function(t,n,r){return t===n?r:e(t,n)?t.replace(n+".",r+"."):void 0}}(Mn),Dn=function(e,t,n,r,i){function s(e,t){return e.replace(/\$\{([0-9]+)\}/g,function(e,n){return t[n]?t[n].value||t[n].keypath:"undefined"})}function o(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}var u=function(r,i,s,o){var u,a,f,l=this;return u=r.root,this.root=u,this.callback=o,this.owner=r,this.str=s.s,this.args=f=[],this.unresolved=[],this.pending=0,a=i.indexRefs,s.r&&s.r.length?(s.r.forEach(function(r,s){var o,c,h;return a&&void 0!==(o=a[r])?void (f[s]={indexRef:r,value:o}):(c=t(u,r,i))?void (f[s]={keypath:c}):(f[s]=null,l.pending+=1,h=new n(u,r,i,function(t){l.resolve(s,t),e(l.unresolved,h)}),void l.unresolved.push(h))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return u.prototype={bubble:function(){this.ready&&(this.uniqueString=s(this.str,this.args),this.keypath=o(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var e;e=this.unresolved.pop();)e.teardown()},resolve:function(e,t){this.args[e]={keypath:t},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var e=this.root._evaluators[this.keypath];e?e.invalidate():(e=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=e,e.update())},rebind:function(e,t,n,r){var s;this.args.forEach(function(o){var u;o&&(o.keypath&&(u=i(o.keypath,n,r))?(o.keypath=u,s=!0):o.indexRef&&o.indexRef===e&&(o.value=t,s=!0))}),s&&this.bubble()}},u}(w,N,kn,On,_n),Pn=function(e,t,n,r,i,s,o,u){var a=function(n,s,o){var a,l,c,h,p,d=this;return a=n.root,l=n.parentFragment,this.ref=s.r,this.root=n.root,this.mustache=n,this.priority=n.priority,this.callback=o,this.pending=0,this.unresolved=[],p=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],s.m.forEach(function(s,o){var v,m,g,y,b,w;return"string"==typeof s?void (d.members[o]=s):s.t===e.REFERENCE?(v=s.n,m=l.indexRefs,m&&void 0!==(g=m[v])?(p[o]=g,void d.indexRefMembers.push({ref:v,index:o})):(h=!0,(c=r(a,v,l))?(y=new f(a,c,n.priority,d,o),void d.keypathObservers.push(y)):(p[o]=void 0,d.pending+=1,b=new i(a,v,l,function(e){d.resolve(o,e),t(d.unresolved,b)}),d.unresolved.push(b),null))):(h=!0,d.pending+=1,w=new u(d,l,s,function(e){d.resolve(o,e),t(d.unresolved,w)}),void d.unresolved.push(w))}),h?(this.ready=!0,void this.bubble()):(c=this.getKeypath(),void o(c))};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&
this.callback(this.getKeypath())},resolve:function(e,t){var n=new f(this.root,t,this.mustache.priority,this,e);this.keypathObservers.push(n),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var e;e=this.unresolved.pop();)e.teardown()},rebind:function(e,t){var n,r,i;for(r=this.indexRefMembers.length;r--;)i=this.indexRefMembers[r],i.ref===e&&(n=!0,this.members[i.index]=t);n&&this.bubble()}};var f=function(e,t,r,i,o){this.root=e,this.keypath=t,this.priority=r,this.resolver=i,this.index=o,s(this),this.setValue(n(e,t))};return f.prototype={setValue:function(e){var t=this.resolver;t.members[this.index]=e,t.bubble()},teardown:function(){o(this)}},a}(j,w,Y,N,kn,$,J,Dn),Hn=function(e,t,n,r,i){return function(s,o){function u(e){s.resolve(e)}function a(e){var r=n(s.root,e,s.parentFragment);void 0!==r?u(r):(s.ref=e,t.addUnresolved(s))}var f,l,c,h,p;h=o.parentFragment,p=o.template,s.root=h.root,s.parentFragment=h,s.pElement=h.pElement,s.template=o.template,s.index=o.index||0,s.priority=h.priority,s.type=o.template.t,(f=p.r)&&(l=h.indexRefs,l&&void 0!==(c=l[f])?(s.indexRef=f,s.setValue(c)):a(f)),o.template.x&&(s.resolver=new i(s,h,o.template.x,u)),o.template.rx&&(s.resolver=new r(s,o.template.rx,a)),s.template.n!==e.SECTION_UNLESS||s.hasOwnProperty("value")||s.setValue(void 0)}}(j,O,N,Pn,Dn),Bn=function(e,t,n){return function(r){var i;r!==this.keypath&&(this.registered&&(n(this),i=this.parentFragment&&this.parentFragment.owner&&this.parentFragment.owner.element?this.parentFragment.owner.element:this,i.rebind(null,null,this.keypath,r),r===this.keypath)||(this.keypath=r,t(this),this.setValue(e(this.root,r))))}}(Y,$,J),jn=function(e){return function(t,n,r,i){var s;this.fragments&&this.fragments.forEach(function(e){return e.rebind(t,n,r,i)}),this.resolver&&this.resolver.rebind(t,n,r,i),this.keypath?(s=e(this.keypath,r,i),s&&this.resolve(s)):void 0!==t&&this.indexRef===t&&this.setValue(n)}}(_n),Fn=function(e,t,n){return{init:e,resolve:t,rebind:n}}(Hn,Bn,jn),In=function(e,t,n,r,i,s,o){var u=function(t){this.type=e.INTERPOLATOR,s.init(this,t)};return u.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:s.resolve,rebind:s.rebind,detach:o,teardown:i,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(e){e&&r(this.node)},setValue:function(e){var n;(n=this.root._wrapped[this.keypath])&&(e=n.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.node&&t.viewUpdate(this))},firstNode:function(){return this.node},toString:function(e){var t=void 0!=this.value?""+this.value:"";return e?n(t):t}},u}(j,O,En,xn,Cn,Fn,Tn),qn=function(){this.parentFragment.bubble()},Rn=function(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)},Un=function(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].find(e))return r;return null},zn=function(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(e,t)},Wn=function(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(e,t)},Xn=function(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null},Vn=function(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)},$n=function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},Jn=function(e){var t;return e.push(function(){t=e.Fragment}),function(e){var n,r,i,s,o,u,a,f,l=this;if(n=this.parentFragment,o=[],e.forEach(function(e,t){var n,i,s,u;return e===t?void (o[e]=l.fragments[t]):(n=l.fragments[t],void 0===r&&(r=t),-1===e?(n.unrender(!0),void n.teardown()):(i=e-t,s=l.keypath+"."+t,u=l.keypath+"."+e,n.rebind(l.template.i,e,s,u),void (o[e]=n)))}),void 0===r&&(r=this.length),this.length=this.fragments.length=s=this.root.get(this.keypath).length,s!==r){for(u={template:this.template.f,root:this.root,owner:this},this.template.i&&(u.indexRef=this.template.i),i=r;s>i;i+=1)(a=o[i])?this.docFrag.appendChild(a.detach(!1)):(u.context=this.keypath+"."+i,u.index=i,a=new t(u),this.docFrag.appendChild(a.render())),this.fragments[i]=a;f=n.findNextNode(this),this.parentFragment.getNode().insertBefore(this.docFrag,f)}}}(b),Kn=function(){var e;return e=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,e},Qn=function(e,t,n,r,i){function s(r,i){var s={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.template.n)switch(r.template.n){case e.SECTION_IF:return f(r,i,!1,s);case e.SECTION_UNLESS:return f(r,i,!0,s);case e.SECTION_WITH:return a(r,s);case e.SECTION_EACH:if(n(i))return u(r,i,s)}return t(i)?o(r,i,s):n(i)||"function"==typeof i?r.template.i?u(r,i,s):a(r,s):f(r,i,!1,s)}function o(e,t,n){var r,i,s,o;if(i=t.length,i===e.length)return!1;if(i<e.length)o=e.fragments.splice(i,e.length-i),o.forEach(l);else if(i>e.length)for(r=e.length;i>r;r+=1)n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),s=new c(n),e.unrenderedFragments.push(e.fragments[r]=s);return e.length=i,!0}function u(e,t,n){var r,i,s,o,u;for(s=e.hasKey||(e.hasKey={}),i=e.fragments.length;i--;)o=e.fragments[i],o.index in t||(u=!0,l(e.fragments[i]),e.fragments.splice(i,1),s[o.index]=!1);for(r in t)s[r]||(u=!0,n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),o=new c(n),e.unrenderedFragments.push(o),e.fragments.push(o),s[r]=!0);return e.length=e.fragments.length,u}function a(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new c(t),e.unrenderedFragments.push(e.fragments[0]=n),e.length=1,!0)}function f(e,n,r,i){var s,o,u;if(o=t(n)&&0===n.length,s=r?o||!n:n&&!o){if(!e.length)return i.index=0,u=new c(i),e.unrenderedFragments.push(e.fragments[0]=u),e.length=1,!0;if(e.length>1
)return e.fragments.splice(1).forEach(l),!0}else if(e.length)return e.fragments.splice(0).forEach(l),e.length=0,!0}function l(e){e.rendered&&e.unrender(!0),e.teardown()}var c;return i.push(function(){c=i.Fragment}),function(e){var t;(t=this.root._wrapped[this.keypath])&&(e=t.get()),s(this,e)&&(this.bubble(),this.rendered&&r.viewUpdate(this)),this.value=e}}(j,_,et,O,b),Gn=function(e,t){function n(e){e.unrender(!0),e.teardown()}function r(t,n,r){var i,o,u;for(i={template:t.template.f,root:t.root,pElement:t.pElement,owner:t,indexRef:t.template.i},u=n;r>u;u+=1)i.context=t.keypath+"."+u,i.index=u,o=new s(i),t.unrenderedFragments.push(t.fragments[u]=o);t.insertionPoint=t.fragments[r]?t.fragments[r].firstNode():t.parentFragment.findNextNode(t),e.viewUpdate(t)}function i(e,t,n,r){var i,s,o,u,a;for(o=e.template.i,i=t;n>i;i+=1)s=e.fragments[i],u=e.keypath+"."+(i-r),a=e.keypath+"."+i,s.index=i,s.rebind(o,i,u,a)}var s;return t.push(function(){s=t.Fragment}),function(e){var t,s,o,u,a,f=this;if(t=e.balance){if(s=e.rangeStart,f.length+=t,0>t)return f.fragments.splice(s,-t).forEach(n),void i(f,s,f.length,t);o=s+e.removed,u=s+e.added,a=[o,0],a.length+=t,f.fragments.splice.apply(f.fragments,a),i(f,u,f.length,t),r(f,o,u)}}}(O,b),Yn=function(e){return function(){this.fragments.splice(0).forEach(function(e){return e.teardown()}),e.call(this)}}(Cn),Zn=function(e){var t,n,r;for(t="",n=0,r=this.length,n=0;r>n;n+=1)t+=this.fragments[n].toString(e);return t},er=function(e){this.fragments.forEach(function(t){return t.unrender(e)})},tr=function(){var e,t,n;if(this.unrenderedFragments.length){for(;e=this.unrenderedFragments.shift();)this.docFrag.appendChild(e.render());this.rendered&&(t=this.insertionPoint||this.parentFragment.findNextNode(this),n=this.parentFragment.getNode(),n.insertBefore(this.docFrag,t),this.insertionPoint=null)}},nr=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){var y=function(n){this.type=e.SECTION,this.inverted=!!n.template.n,this.pElement=n.pElement,this.fragments=[],this.unrenderedFragments=[],this.length=0,t.init(this,n)};return y.prototype={bubble:n,detach:r,find:i,findAll:s,findAllComponents:o,findComponent:u,findNextNode:a,firstNode:f,merge:l,rebind:t.rebind,render:c,resolve:t.resolve,setValue:h,splice:p,teardown:d,toString:v,unrender:m,update:g},y}(j,Fn,qn,Rn,Un,zn,Wn,Xn,Vn,$n,Jn,Kn,Qn,Gn,Yn,Zn,er,tr),rr=function(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}},ir=function(e){return function(t){var n,r,i,s;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(s=i.querySelector(t))return s}return null}}(ut),sr=function(e){return function(t,n){var r,i,s,o,u,a;for(i=this.nodes.length,r=0;i>r;r+=1)if(s=this.nodes[r],1===s.nodeType&&(e(s,t)&&n.push(s),o=s.querySelectorAll(t)))for(u=o.length,a=0;u>a;a+=1)n.push(o[a])}}(ut),or=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},ur=function(e,t){function n(e){return s[e]||(s[e]=t(e))}var r,i,s={};try{t("table").innerHTML="foo"}catch(o){r=!0,i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(t,s,o){var u,a,f=[];if(t)for(r&&(a=i[s.tagName])?(u=n("DIV"),u.innerHTML=a[0]+t+a[1],u=u.querySelector(".x")):s.namespaceURI===e.svg?(u=n("DIV"),u.innerHTML='<svg class="x">'+t+"</svg>",u=u.querySelector(".x")):(u=n(s.tagName),u.innerHTML=t);u.firstChild;)f.push(u.firstChild),o.appendChild(u.firstChild);return f}}(s,o),ar=function(){var e="option[selected]";return function(t){var n,r,i;t&&"select"===t.name&&t.binding&&(t.getAttribute("multiple")?(n=t.findAll(e),i=n.map(function(e){return e.value})):(r=t.find(e))&&(i=r.value),void 0!==i&&t.binding.setValue(i),t.bubble())}}(),fr=function(e,t){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag),t(this.pElement),this.rendered=!0,this.docFrag}}(ur,ar),lr=function(e){return function(t){var n;(n=this.root._wrapped[this.keypath])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&e.viewUpdate(this))}}(O),cr=function(){return void 0!=this.value?this.value:""},hr=function(e){return function(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}}(xn),pr=function(e,t){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=e(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),t(this.pElement)}}}(ur,ar),dr=function(e,t,n,r,i,s,o,u,a,f,l,c){var h=function(n){this.type=e.TRIPLE,t.init(this,n)};return h.prototype={detach:n,find:r,findAll:i,firstNode:s,rebind:t.rebind,render:o,resolve:t.resolve,setValue:u,teardown:c,toString:a,unrender:f,update:l},h}(j,Fn,rr,ir,sr,or,fr,lr,cr,hr,pr,Cn),vr=function(){this.parentFragment.bubble()},mr=function(e,t){return function(){var n;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(e.start();n===this.cssDetachQueue.pop();)t.remove(n);e.end()}}}(O,E),gr=function(e){return function(t){return e(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0}}(ut),yr=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},br=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},wr=function(e){return this.fragment?this.fragment.findComponent(e):void 0},Er=function(){return null},Sr=function(){return this.node},xr=function(e){return this.attributes&&this.attributes[e]?this
.attributes[e].value:void 0},Tr=function(){var e,t,n,r;return e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},r=n(e.concat(t)),function(e){var t=e.toLowerCase();return r[t]||t}}(),Nr=function(e){var t={svg:e.svg,foreignObject:e.html};return function(n,r){return n.a&&n.a.xmlns?n.a.xmlns:t[n.e]||r&&r.namespace||e.html}}(s),Cr=function(e){return function(){var t=this.fragment.getValue();t!==this.value&&(this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&e.viewUpdate(this))}}(O),kr=function(e,t){return function(n,r){var i,s;if(i=r.indexOf(":"),-1===i||(s=r.substr(0,i),"xmlns"===s))n.name=n.element.namespace!==e.html?t(r):r;else if(r=r.substring(i+1),n.name=t(r),n.namespace=e[s.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+s+'")'}}(s,Tr),Lr=function(e){return function(t){var n,r;return n=t.fragment.items,1===n.length&&(r=n[0],r.type===e.INTERPOLATOR&&(r.keypath||r.ref))?r:void 0}}(j),Ar=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==e.html||(i=t[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(s),Or=function(e,t,n,r,i){var s;return i.push(function(){s=i.Fragment}),function(i){return this.type=e.ATTRIBUTE,this.element=i.element,this.root=i.root,t(this,i.name),i.value&&"string"!=typeof i.value?(this.parentFragment=this.element.parentFragment,this.fragment=new s({template:i.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=n(this),this.isBindable=!!this.interpolator,r(this,i),void (this.ready=!0)):void (this.value=i.value||!0)}}(j,kr,Lr,Ar,b),Mr=function(e,t,n,r){this.fragment&&(this.fragment.rebind(e,t,n,r),this.twoway&&this.updateBindings())},_r=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n){var r;this.node=n,n.namespaceURI&&n.namespaceURI!==e.html||(r=t[this.name]||this.name,void 0!==n[r]&&(this.propertyName=r),("boolean"==typeof n[r]||"value"===r)&&(this.useProperty=!0),"value"===r&&(this.useProperty=!0,n._ractive.value=this.value)),this.rendered=!0,this.update()}}(s),Dr=function(){var e;if(this.boundEvents)for(e=this.boundEvents.length;e--;)this.node.removeEventListener(this.boundEvents[e],this.updateModel,!1);this.fragment&&this.fragment.teardown()},Pr=function(){function e(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var t=/allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|spellcheck|translate|trueSpeed|typeMustMatch|visible/;return function(){var n,r;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.name)return"name"===this.name&&"input"===this.element.name&&(r=this.interpolator)?"name={{"+(r.keypath||r.ref)+"}}":t.test(this.name)?this.fragment?this.fragment.getValue()?this.name:null:this.value?this.name:null:(n=e(this.fragment?this.fragment.toString():this.value),this.name+(n?'="'+n+'"':""))}}(),Hr=function(){var e,t,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,e=this.node.options,r=e.length;r--;)if(t=e[r],n=t._ractive?t._ractive.value:t.value,n==i){t.selected=!0;break}},Br=function(e){return function(){var t,n,r,i,s=this.value;for(e(s)||(s=[s]),t=this.node.options,n=t.length;n--;)r=t[n],i=r._ractive?r._ractive.value:r.value,r.selected=-1!==s.indexOf(i)}}(_),jr=function(){var e,t;e=this.node,t=this.value,e.checked=t==e._ractive.value},Fr=function(e){return function(){var t,n;t=this.node,n=this.value,t.checked=e(n)?-1!==n.indexOf(t._ractive.value):n==t._ractive.value}}(_),Ir=function(){var e,t;e=this.node,t=this
.value,void 0===t&&(t=""),e.className=t},qr=function(){var e,t;e=this.node,t=this.value,void 0!==t&&(this.root.nodes[t]=void 0),this.root.nodes[t]=e,e.id=t},Rr=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)},Ur=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),this.locked||(e.innerHTML=t)},zr=function(){var e,t;e=this.node,t=this.value,e._ractive.value=t,this.locked||(e.value=void 0==t?"":t)},Wr=function(){this.locked||(this.node[this.propertyName]=this.value)},Xr=function(){var e,t;e=this.node,t=this.value,this.namespace?e.setAttributeNS(this.namespace,this.name,t):e.setAttribute(this.name,t)},Vr=function(e,t,n,r,i,s,o,u,a,f,l,c,h){return function(){var p,d,v;p=this.name,d=this.element,v=this.node,"id"===p?this.update=u:"select"===d.name&&"value"===p?this.update=v.multiple?r:n:"input"===d.name&&"file"===v.type&&"value"===p?this.update=t:this.twoway&&"name"===p?"radio"===v.type?this.update=i:"checkbox"===v.type&&(this.update=s):this.update="style"===p&&v.style.setAttribute?a:"class"!==p||v.namespaceURI&&v.namespaceURI!==e.html?v.getAttribute("contenteditable")&&"value"===this.name?f:"value"===p?l:this.useProperty?c:h:o,this.update()}}(s,Sn,Hr,Br,jr,Fr,Ir,qr,Rr,Ur,zr,Wr,Xr),$r=function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.node.name="{{"+this.keypath+"}}")},Jr=function(e,t,n,r,i,s,o,u){var a=function(e){this.init(e)};return a.prototype={bubble:e,init:t,rebind:n,render:r,teardown:i,toString:s,update:o,updateBindings:u},a}(Cr,Or,Mr,_r,Dr,Pr,Vr,$r),Kr=function(e){return function(t,n){var r,i,s=[];for(r in n)n.hasOwnProperty(r)&&(i=new e({element:t,name:r,value:n[r],root:t.root}),s.push(s[r]=i));return s}}(Jr),Qr=function(e){for(var t,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},Gr=function(e,t,n,r,i){var s=function(e){var n;return this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],n=this.attribute.interpolator,n.keypath&&"${"===n.keypath.substr?(t("Two-way binding does not work with expressions: "+n.keypath),!1):(n.keypath||n.resolve(n.ref),void (this.keypath=this.attribute.interpolator.keypath))};return s.prototype={handleChange:function(){e.lockAttribute(this.attribute),e.start(this.root),i(this.root,this.keypath,this.getValue()),e.end()},rebind:function(e,t,n,r){var i;this.keypath.substr(0,n.length)===n&&(i=this.root._twowayBindings[this.keypath],i.splice(i.indexOf(this),1),this.keypath=this.keypath.replace(n,r),i=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),i.push(this))}},s.extend=function(e){var t,i=this;return t=function(e){s.call(this,e),this.init&&this.init()},t.prototype=n(i.prototype),r(t.prototype,e),t.extend=s.extend,t},s}(O,Z,Vt,Qr,q),Yr=function(){this._ractive.binding.handleChange()},Zr=function(e,t){var n=e.extend({render:function(){var e=this.element.node;e.addEventListener("change",t,!1),this.root.lazy||(e.addEventListener("input",t,!1),e.attachEvent&&e.addEventListener("keyup",t,!1))},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("input",t,!1),e.removeEventListener("keyup",t,!1)}});return n}(Gr,Yr),ei=function(e,t,n,r){var i=n.extend({name:"name",init:function(){this.radioName=!0},render:function(){var n,i=this,s=this.element.node;s.name="{{"+this.keypath+"}}",s.addEventListener("change",r,!1),s.attachEvent&&s.addEventListener("click",r,!1),n=t(this.root,this.keypath),void 0!==n?s.checked=n==s._ractive.value:e.afterModelUpdate(function(){return i.handleChange()})},unrender:function(){var e=this.element.node;e.removeEventListener("change",r,!1),e.removeEventListener("click",r,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){var e=this.element.node;e.checked&&n.prototype.handleChange.call(this)},rebind:function(e,t,r,i){n.prototype.rebind.call(this,e,t,r,i),this.element.node.name="{{"+this.keypath+"}}"}});return i}(O,Y,Gr,Yr),ti=function(e,t,n,r,i,s){var o=i.extend({name:"name",init:function(){this.checkboxName=!0,this.isChecked=this.element.getAttribute("checked"),this.siblings=this.root._checkboxNameBindings[this.keypath]||(this.root._checkboxNameBindings[this.keypath]=[]),this.siblings.push(this)},teardown:function(){t(this.siblings,this)},render:function(){var t,n,i=this.element.node;this.element.node.name="{{"+this.keypath+"}}",i.addEventListener("change",s,!1),i.attachEvent&&i.addEventListener("click",s,!1),t=r(this.root,this.keypath),void 0!==t?(n=-1!==t.indexOf(i._ractive.value),i.checked=n):e.addCheckboxBinding(this)},unrender:function(){var e=this.element.node;e.removeEventListener("change",s,!1),e.removeEventListener("click",s,!1)},changed:function(){return this.element.node.checked!==!!this.checked},handleChange:function(){var t=[];this.isChecked=this.element.node.checked,this.siblings.forEach(function(e){e.isChecked&&t.push(e.element.getAttribute("value"))}),e.start(this.root),n(this.root,this.keypath,t),e.end()},getValue:function(){throw new Error("This code should not execute!")}});return o}(O,w,q,Y,Gr,Yr),ni=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,!1),e.attachEvent&&e.addEventListener("click",t,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("click",t,!1)},getValue:function(){return this.element.node.checked}});return n}(Gr,Yr),ri=function(e,t,n,r){var i=n.extend({render:function(){this.element.node.addEventListener("change",r,!1)},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(e){t(this.root,this.keypath,e)},getValue:function(){var e,t,n,r,i;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(r=e[t],e[t].selected)return i=r._ractive?r._ractive.value:r.value},updateModel:function(){void 0===this
.attribute.value&&t(this.root,this.keypath,this.initialValue)},dirty:function(){var t=this;this._dirty||(this._dirty=!0,e.afterModelUpdate(function(){return t.updateModel()}))}});return i}(O,q,Gr,Yr),ii=function(e){return function(t,n){var r;if(!e(t)||!e(n))return!1;if(t.length!==n.length)return!1;for(r=t.length;r--;)if(t[r]!==n[r])return!1;return!0}}(_),si=function(e,t,n,r,i){var s=r.extend({render:function(){var t;this.element.node.addEventListener("change",i,!1),t=e(this.root,this.keypath),void 0===t&&this.handleChange()},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,s;for(e=[],t=this.element.node.options,r=t.length,n=0;r>n;n+=1)i=t[n],i.selected&&(s=i._ractive?i._ractive.value:i.value,e.push(s));return e},handleChange:function(){var e,t,i;return e=this.attribute,t=e.value,i=this.getValue(),void 0!==t&&n(i,t)||r.prototype.handleChange.call(this),this},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||t(this.root,this.keypath,this.initialValue)}});return s}(Y,q,ii,ri,Yr),oi=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,!1)},unrender:function(){this.element.node.removeEventListener("change",t,!1)},getValue:function(){return this.element.node.files}});return n}(Gr,Yr),ui=function(e,t,n){function r(){var t;n.call(this),t=e(this._ractive.root,this._ractive.binding.keypath,s),this.value=void 0==t?"":t}var i,s;return s={evaluateWrapped:!0},i=t.extend({render:function(){var e=this.element.node;e.addEventListener("change",n,!1),this.root.lazy||(e.addEventListener("input",n,!1),e.attachEvent&&e.addEventListener("keyup",n,!1)),e.addEventListener("blur",r,!1)},getValue:function(){var e=this.element.node.value;return e},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,!1),e.removeEventListener("input",n,!1),e.removeEventListener("keyup",n,!1),e.removeEventListener("blur",r,!1)}})}(Y,Gr,Yr),ai=function(e,t,n,r,i,s,o,u){function a(e){return e&&e.isBindable}return function(f){var l,c,h=f.attributes;return f.binding&&(f.binding.teardown(),f.binding=null),f.getAttribute("contenteditable")&&a(h.value)?c=e:"input"===f.name?(l=f.getAttribute("type"),"radio"===l||"checkbox"===l?(a(h.name)&&(c="radio"===l?t:n),a(h.checked)&&(c=r)):"file"===l&&a(h.value)?c=o:a(h.value)&&(c=u)):"select"===f.name&&a(h.value)?c=f.getAttribute("multiple")?s:i:"textarea"===f.name&&a(h.value)&&(c=u),c?new c(f):void 0}}(Zr,ei,ti,ni,ri,si,oi,ui),fi=function(e){this.root.fire(this.action.toString().trim(),e)},li=function(e){function t(e){this.root.fire.apply(this.root,[this.action.toString().trim(),e].concat(this.params))}function n(e){var t=this.dynamicParams.getValue(i);"string"==typeof t&&(t=t.substr(1,t.length-2)),this.root.fire.apply(this.root,[this.action.toString().trim(),e].concat(t))}var r,i={args:!0};return e.push(function(){r=e.Fragment}),function(e,i,s){var o;this.element=e,this.root=e.root,this.name=i,this.proxies=[],o=s.n||s,"string"!=typeof o&&(o=new r({template:o,root:this.root,owner:this.element})),this.action=o,s.d?(this.dynamicParams=new r({template:s.d,root:this.root,owner:this.element}),this.fire=n):s.a&&(this.params=s.a,this.fire=t)}}(b),ci=function(e,t,n,r){"string"!=typeof this.action&&this.action.rebind(e,t,n,r),this.dynamicParams&&this.dynamicParams.rebind(e,t,n,r)},hi=function(e){function t(e){var t,n;t=this._ractive,n=t.events[e.type],n.fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})}function n(e){return i[e]||(i[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath,t.context=n.root.get(n.keypath),n.events[e].fire(t)}),i[e]}var r={},i={};return function(){var i,s=this.name;this.node=this.element.node,(i=this.root.events[s])?this.custom=i(this.node,n(s)):("on"+s in this.node||window&&"on"+s in window||r[s]||(e('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),r[s]=!0),this.node.addEventListener(s,t,!1)),this.node._ractive.events[s]=this}}(Z),pi=function(){"string"!=typeof this.action&&this.action.teardown(),this.dynamicParams&&this.dynamicParams.teardown()},di=function(){},vi=function(e,t,n,r,i,s){var o=function(e,t,n){this.init(e,t,n)};return o.prototype={fire:e,init:t,rebind:n,render:r,teardown:i,unrender:s},o}(fi,li,ci,hi,pi,di),mi=function(e){return function(t,n){var r,i,s,o,u=[];for(i in n)if(n.hasOwnProperty(i))for(s=i.split("-"),r=s.length;r--;)o=new e(t,s[r],n[i]),u.push(o);return u}}(vi),gi=function(e,t){var n,r,i;return t.push(function(){n=t.Fragment}),r={args:!0},i=function(t,i){var s,o,u,a,f=this;if(f.element=t,f.root=s=t.root,o=i.n||i,"string"!=typeof o&&(u=new n({template:o,root:s,owner:t}),o=u.toString(),u.teardown()),i.a?f.params=i.a:i.d&&(f.fragment=new n({template:i.d,root:s,owner:t}),f.params=f.fragment.getValue(r),f.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(r),f.ready&&f.update()}),f.fn=s.decorators[o],!f.fn){if(a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',s.debug)throw new Error(a);e(a)}},i.prototype={init:function(){var e,t,n,r=this;if(e=r.element.node,r.params?(n=[e].concat(r.params),t=r.fn.apply(r.root,n)):t=r.fn.call(r.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=t,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(e){this.actual.teardown(),!e&&this.fragment&&this.fragment.teardown()}},i}(Z,b),yi=function(e,t){var n,r={};return t.push(function(){n=t.Fragment}),function(t,i){var s,o,u,a,f=this;if(f.element=t,f.root=s=t.root,o=i.n||i,"string"!=typeof o&&(u=new n({template:o,root:s,owner:t}),o=u.toString(),u.teardown()),f.name=o,i.a?f.params=i.a:i.d&&(u=new n({template:i.d,root:s,owner:t}),f.params=u.getValue
(r),u.teardown()),f._fn=s.transitions[o],!f._fn){if(a='Missing "'+o+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',s.debug)throw new Error(a);return void e(a)}}}(Z,b),bi=function(e,t,n){var r,i,s;return e?(i={},s=n("div").style,r=function(e){var n,r,o;if(!i[e])if(void 0!==s[e])i[e]=e;else for(o=e.charAt(0).toUpperCase()+e.substring(1),n=t.length;n--;)if(r=t[n],void 0!==s[r+o]){i[e]=r+o;break}return i[e]}):r=null,r}(u,m,o),wi=function(e,t,n,r){var i,s;return t?(s=window.getComputedStyle||e.getComputedStyle,i=function(e){var t,i,s,o,u;if(t=window.getComputedStyle(this.node),"string"==typeof e)return u=t[r(e)],"0px"===u&&(u=0),u;if(!n(e))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},s=e.length;s--;)o=e[s],u=t[r(o)],"0px"===u&&(u=0),i[o]=u;return i}):i=null,i}(n,u,_,bi),Ei=function(e){return function(t,n){var r;if("string"==typeof t)this.node.style[e(t)]=n;else for(r in t)t.hasOwnProperty(r)&&(this.node.style[e(r)]=t[r]);return this}}(bi),Si=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},xi=function(e,t,n){function r(e){return e}var i=function(i){var s;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(s=i.root.easing[i.easing],s||(e('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),s=r)):s="function"==typeof i.easing?i.easing:r,this.easing=s,this.start=t(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return i.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i}(Z,y,M),Ti=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(m),Ni=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;return e?(t.test(e)&&(e="-"+e),n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""}}(m),Ci=function(e,t,n,r,i,s,o,u,a){var f,l,c,h,p,d,v,m,g={},y={};return e?(l=n("div").style,function(){void 0!==l.transition?(c="transition",h="transitionend",p=!0):void 0!==l.webkitTransition?(c="webkitTransition",h="webkitTransitionEnd",p=!0):p=!1}(),c&&(d=c+"Duration",v=c+"Property",m=c+"TimingFunction"),f=function(e,n,f,l,c,p){setTimeout(function(){var b,w,E,S;S=function(){w&&E&&p()},b=e.node.namespaceURI+e.node.tagName,e.node.style[v]=l.map(o).map(a).join(","),e.node.style[m]=a(f.easing||"linear"),e.node.style[d]=f.duration/1e3+"s",c=function(t){var n;n=l.indexOf(r(u(t.propertyName))),-1!==n&&l.splice(n,1),l.length||(e.root.fire(e.name+":end"),e.node.removeEventListener(h,c,!1),E=!0,S())},e.node.addEventListener(h,c,!1),setTimeout(function(){for(var u,a,p,d,v=l.length,m=[];v--;)d=l[v],u=b+d,g[u]?e.node.style[o(d)]=n[d]:a=e.getStyle(d),void 0===g[u]&&(e.node.style[o(d)]=n[d],g[u]=e.getStyle(d)!=n[d],y[u]=!g[u]),y[u]&&(p=l.indexOf(d),-1===p?t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):l.splice(p,1),e.node.style[o(d)]=a,m.push({name:o(d),interpolator:i(a,n[d])}));m.length?new s({root:e.root,duration:f.duration,easing:r(f.easing),step:function(t){var n,r;for(r=m.length;r--;)n=m[r],e.node.style[n.name]=n.interpolator(t)},complete:function(){w=!0,S()}}):w=!0,l.length||(e.node.removeEventListener(h,c,!1),E=!0,S())},0)},f.delay||0)}):f=null,f}(u,Z,o,Si,nt,xi,bi,Ti,Ni),ki=function(e,t,n,r,i,s){var o,u;return t?(u=window.getComputedStyle||e.getComputedStyle,o=function(e,t,o,u){var a,f=this;"string"==typeof e?(a={},a[e]=t):(a=e,u=o,o=t),o||(n('The "'+f.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),o=f,u=f.complete);var l=new r(function(e){var t,n,r,u,l,c,h,p;if(!o.duration)return f.setStyle(a),void e();for(t=Object.keys(a),n=[],r=window.getComputedStyle(f.node),l={},h=t.length;h--;)p=t[h],u=r[i(p)],"0px"===u&&(u=0),u!=a[p]&&(n.push(p),f.node.style[i(p)]=u);return n.length?void s(f,a,o,n,c,e):void e()});return u&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),l.then(u)),l}):o=null,o}(n,u,Z,d,bi,Ci),Li=function(e,t){var n;for(n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n]);return e},Ai=function(e){return function(t,n){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),e(t,n)}}(Li),Oi=function(){function e(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}return function(t){var n,r,i=this;return n=i.node=i.element.node,r=n.getAttribute("style"),i.isIntro=!!t,i.complete=function(t){!t&&i.isIntro&&e(n,r),n._ractive.transition=null,i._manager.remove(i)},i._fn?void i._fn.apply(i.root,[i].concat(i.params)):void i.complete()}}(),Mi=function(e,t,n,r,i,s,o){var u,a,f;return o.push(function(){u=o.Fragment}),a={args:!0},f=function(e,t){this.init(e,t)},f.prototype={init:e,start:s,getStyle:t,setStyle:n,animateStyle:r,processParams:i},f}(yi,wi,Ei,ki,Ai,Oi,b),_i=function(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t},Di=function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}return function(i){var s,o,u,a,f,l,c;if(s=i.node)if(a=e(s.options),o=i.getAttribute("value"),u=i.getAttribute("multiple"),void 0!==o)a.forEach(function(e){var t,n;t=e._ractive?e._ractive.value:e.value,n=u?r(o,t):o==t,n&&(c=!0),e.selected=n}),c||(a[0]&&(a[0].selected=!0),i.binding&&(o=u?[]:a[0]?a[0]._ractive?a[0]._ractive.value:a[0].value:void 0,n(i.root,i.binding.keypath,o)));else if(i.binding){if(u)f=a.reduce(function(e,t){return t.selected&&e.push(t.value),e},[]);else for(l=a.length;
l--;)if(a[l].selected){f=a[l].value;break}t.lockAttribute(i.attributes.value),n(i.root,i.binding.keypath)}}}(_i,O,q),Pi=function(e,t){return function(){var n=this;this.dirty||(this.dirty=!0,e.afterViewUpdate(function(){n.dirty=!1,t(n)})),this.parentFragment.bubble()}}(O,Di),Hi=function(e){do if("select"===e.name)return e;while(e=e.parent)},Bi=function(e,t,n,r,i,s,o,u,a,f,l,c){var h;return c.push(function(){h=c.Fragment}),function(c){var p,d,v,m,g,y;this.type=e.ELEMENT,p=this.parentFragment=c.parentFragment,d=this.template=c.template,this.parent=c.pElement||p.pElement,this.root=m=p.root,this.index=c.index,this.cssDetachQueue=[],this.namespace=r(d,this.parent),this.name=v!==t.html?n(d.e):d.e,"option"===this.name&&(this.select=l(this.parent),this.select.options.push(this),d.a||(d.a={}),d.a.value||(d.a.value=d.f),"selected"in d.a&&void 0!==this.select.getAttribute("value")&&delete d.a.selected),this.attributes=i(this,d.a),m.twoway&&(g=s(this,d.a))&&(this.binding=g,y=this.root._twowayBindings[g.keypath]||(this.root._twowayBindings[g.keypath]=[]),y.push(g)),"option"===this.name&&this.select.binding&&(this.select.binding.dirty(),this.select.getAttribute("multiple")?this.getAttribute("selected")&&(this.select.binding.initialValue||(this.select.binding.initialValue=[]),this.select.binding.initialValue.push(this.getAttribute("value"))):(this.getAttribute("selected")||void 0===this.select.binding.initialValue)&&(this.select.binding.initialValue=this.getAttribute("value"))),"select"===this.name&&(this.options=[],this.getAttribute("multiple")&&this.binding&&(this.binding.initialValue=[]),this.bubble=f),d.f&&(this.fragment=new h({template:d.f,root:m,owner:this,pElement:this})),d.v&&(this.eventHandlers=o(this,d.v)),d.o&&(this.decorator=new u(this,d.o)),d.t0&&(this.intro=this.outro=new a(this,d.t0)),d.t1&&(this.intro=new a(this,d.t1)),d.t2&&(this.outro=new a(this,d.t2))}}(j,s,Tr,Nr,Kr,ai,mi,gi,Mi,Pi,Hi,b),ji=function(e){return function(t,n){return t===n||e(t,n)}}(Mn),Fi=function(e,t){return function(n,r,i,s){var o=n[r];o&&!e(o,s)&&e(o,i)&&(n[r]=t(o,i,s))}}(ji,_n),Ii=function(e){return function(t,n,r,i){function s(e){e.rebind(t,n,r,i)}var o,u,a,f;if(this.attributes&&this.attributes.forEach(s),this.eventHandlers&&this.eventHandlers.forEach(s),this.binding&&s(this.binding),this.fragment&&s(this.fragment),a=this.liveQueries)for(f=this.root,o=a.length;o--;)a[o]._makeDirty();this.node&&(u=this.node._ractive)&&(e(u,"keypath",r,i),void 0!=t&&(u.index[t]=n))}}(Fi),qi=function(e,t,n,r,i,s,o,u){function a(t){var n,r,i;if(r=t.select.getAttribute("value"),void 0!==r)if(n=t.getAttribute("value"),t.select.node.multiple&&e(r)){for(i=r.length;i--;)if(n==r[i]){t.node.selected=!0;break}}else t.node.selected=n==r}function f(e){var t,n,r,i,s;t=e.root;do for(n=t._liveQueries,r=n.length;r--;)i=n[r],s=n["_"+i],s._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(s);while(t=t._parent)}var l,c;return l=function(){var e=this.node,t=this.fragment.toString(!1);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},c=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},function(){var e,t,h=this,p=this.root;return e=this.node=r(this.name,this.namespace),p.css&&this.parentFragment.getNode()===p.el&&this.node.setAttribute("data-rvcguid",p.constructor._guid||p._guid),i(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:n(null),root:p}}),this.attributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=c,this.node.text=this.fragment.toString(!1),this.fragment.unrender=s):"style"===this.name?(this.bubble=l,this.bubble(),this.fragment.unrender=s):this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding,this.node.getAttribute("contenteditable")&&this.node._ractive.binding&&this.node._ractive.binding.update()),this.decorator&&this.decorator.fn&&o.afterViewUpdate(function(){h.decorator.init()}),(t=this.intro)&&(o.registerTransition(t),o.afterViewUpdate(function(){return t.start(!0)})),"option"===this.name&&a(this),this.node.autofocus&&o.afterViewUpdate(function(){return h.node.focus()}),f(this),this.node}}(_,Z,Vt,o,a,Sn,O,T),Ri=function(){for(this.fragment&&this.fragment.teardown();this.attributes.length;)this.attributes.pop().teardown()},Ui=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}(),zi=function(e,t){function n(e){var n,r,i,s,o,u,a;if(r=e.attributes.value,r.value)n=r.value;else{if(i=r.interpolator,!i)return;n=e.root.get(i.keypath||i.ref)}if(s=e.select.attributes.value,o=s.interpolator){if(u=e.root.get(o.keypath||o.ref),u==n)return!0;if(e.select.attributes.multiple&&t(u))for(a=u.length;a--;)if(u[a]==n)return!0}}function r(e){var t,n,r,i;return t=e.attributes,n=t.type,r=t.value,i=t.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function i(e){var t=e.toString();return t?" "+t:""}return function(){var t,s;return t="<"+(this.template.y?"!doctype":this.template.e),t+=this.attributes.map(i).join(""),"option"===this.name&&n(this)&&(t+=" selected"),"input"===this.name&&r(this)&&(t+=" checked"),t+=">",this.fragment&&(s="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(s)),e.test(this.template.e)||(t+="</"+this.template.e+">"),t}}(Ui,_),Wi=function(e){function t(e){var t,n,r;for(r=e.liveQueries.length;r--;)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}return function(n){var r,i,s;n&&(this.willDetach=!0,e.detachWhenReady(this)),this.fragment&&this.fragment.unrender(!1),(r=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,i=this.root
._twowayBindings[r.keypath],i.splice(i.indexOf(r),1)),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.unrender()}),this.decorator&&this.decorator.teardown(),(s=this.outro)&&(e.registerTransition(s),e.afterViewUpdate(function(){return s.start(!1)})),this.liveQueries&&t(this)}}(O),Xi=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v=function(e){this.init(e)};return v.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:s,findNextNode:o,firstNode:u,getAttribute:a,init:f,rebind:l,render:c,teardown:h,toString:p,unrender:d},v}(vr,mr,gr,yr,br,wr,Er,Sr,xr,Bi,Ii,qi,Ri,zi,Wi),Vi={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},$i={},Ji=function(){var e=/^[^\s=]+/,t=/^\s+/;return function(n){var r,i,s;return n.matchString("=")?(r=n.pos,n.allowWhitespace(),(i=n.matchPattern(e))?n.matchPattern(t)?(s=n.matchPattern(e))?(n.allowWhitespace(),n.matchString("=")?[i,s]:(n.pos=r,null)):(n.pos=r,null):null:(n.pos=r,null)):null}}(),Ki=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];return n?(e.pos+=1,n):null}}(j),Qi=function(e,t){function n(t,n){for(var r,i=[];n.t===e.MEMBER&&n.r.t===e.REFINEMENT;)r=n.r,i.unshift(r.x?r.x.t===e.REFERENCE?r.x:t.flattenExpression(r.x):r.n),n=n.x;return n.t!==e.REFERENCE?null:{r:n.n,m:i}}var r,i,s=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,o=/^[0-9][1-9]*$/,u=/(if|unless|with|each|try)\b/;return r={"if":e.SECTION_IF,unless:e.SECTION_UNLESS,"with":e.SECTION_WITH,each:e.SECTION_EACH},i=/^[a-zA_Z$_0-9]+(?:(\.[a-zA_Z$_0-9]+)|(\[[a-zA_Z$_0-9]+\]))*$/,function(a,f){var l,c,h,p,d,v,m,g,y,b,w;if(l=a.pos,h={},f)h.t=e.TRIPLE;else if((v=a.readExpression())&&(h.t=e.INTERPOLATOR,a.allowWhitespace(),a.matchString(a.delimiters[1])?a.pos-=a.delimiters[1].length:(a.pos=l,v=null)),!v)if(p=t(a),h.t=p||e.INTERPOLATOR,p===e.SECTION&&a.handlebars)d=a.matchPattern(u),d&&r[d]&&(h.n=r[d],a.allowWhitespace());else if(p===e.INVERTED)h.t=e.SECTION,h.n=e.SECTION_UNLESS;else if((p===e.COMMENT||p===e.CLOSING)&&(g=a.remaining(),y=g.indexOf(a.delimiters[1]),-1!==y))return h.r=g.substr(0,y),a.pos+=y,h;if(!v&&(a.allowWhitespace(),v=a.readExpression(),g=a.remaining(),b=f?a.tripleDelimiters[1]:a.delimiters[1],g.substr(0,b.length)!==b&&":"!==g.charAt(0))){if(c=a.pos,a.pos=l,g=a.remaining(),y=g.indexOf(a.delimiters[1]),-1!==y)return h.r=g.substr(0,y).trim(),i.test(h.r)||a.error("Expected a legal Mustache reference"),a.pos+=y,h;a.pos=c}if(v){for(;v.t===e.BRACKETED&&v.x;)v=v.x;v.t===e.REFERENCE?h.r=v.n:v.t===e.NUMBER_LITERAL&&o.test(v.v)?h.r=v.v:(w=n(a,v))?h.rx=w:h.x=a.flattenExpression(v)}return(m=a.matchPattern(s))&&(h.i=m),h}}(j,Ki),Gi=function(e,t,n){function r(e){var t=e.tripleDelimiters[0].length>e.delimiters[0].length;return i(e,t)||i(e,!t)}function i(r,i){var o,u,f,l,c,h,p,d,v,m;if(o=r.pos,u=r.getLinePos(),l=i?r.tripleDelimiters:r.delimiters,!r.matchString(l[0]))return null;if(f=t(r))return r.matchString(l[1])?(r[i?"tripleDelimiters":"delimiters"]=f,a):null;if(r.allowWhitespace(),f=n(r,i),null===f)return r.pos=o,null;if(r.allowWhitespace(),r.matchString(l[1])||r.error("Expected closing delimiter '"+l[1]+"' after reference"),f.t===e.COMMENT&&(f.exclude=!0),f.t===e.SECTION){if(c=[],d=c,r.options.strict||r.handlebars)switch(f.n){case e.SECTION_IF:h="if";break;case e.SECTION_EACH:h="each";break;case e.SECTION_UNLESS:h="unless";break;case e.SECTION_WITH:h="with"}for(;v=r.read();){if(v.t===e.CLOSING){h&&v.r!==h&&r.error("Expected {{/"+h+"}}");break}if(r.handlebars&&v.t===e.INTERPOLATOR&&"else"===v.r)switch(f.n){case e.SECTION_IF:case e.SECTION_EACH:d=p=[];continue;case e.SECTION_UNLESS:r.error("{{else}} not allowed in {{#unless}}");break;case e.SECTION_WITH:r.error("{{else}} not allowed in {{#with}}")}d.push(v)}c.length&&(f.f=c,!f.i&&f.n===e.SECTION_EACH&&(m=s(f.f))&&(f.i=m)),p&&p.length&&(f.l=p)}return r.includeLinePositions&&(f.p=u.toJSON()),f}function s(t){var n,r,i;for(n=t.length;n--;){if(r=t[n],r.t===e.ELEMENT&&r.f&&(i=s(r.f)))return i;if(r.t===e.INTERPOLATOR||r.t===e.TRIPLE||r.t===e.SECTION){if(r.r&&f.test(r.r))return r.r;if(r.x&&(i=o(r.x)))return i;if(r.rx&&(i=u(r.rx)))return i}}}function o(e){var t;for(t=e.r.length;t--;)if(f.test(e.r[t]))return e.r[t]}function u(t){var n,r,i;for(n=t.m.length;n--;){if(i=t.m[n],i.r&&(r=o(i)))return r;if(i.t===e.REFERENCE&&f.test(i.n))return i.n}}var a={t:e.DELIMCHANGE,exclude:!0},f=/^@(?:index|key)$/;return r}(j,Ji,Qi),Yi=function(e){var t="<!--",n="-->";return function(r){var i,s,o,u,a;return i=r.getLinePos(),r.matchString(t)?(o=r.remaining(),u=o.indexOf(n),-1===u&&r.error("Illegal HTML - expected closing comment sequence ('-->')"),s=o.substr(0,u),r.pos+=u+3,a={t:e.COMMENT,c:s},r.includeLinePositions&&(a.p=i.toJSON()),a):null}}(j),Zi=function(e,t){var n,r,i;for(n=t.length;n--;){if(r=e.indexOf(t[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},es=function(){function e(e){return e?10===e?32:128>e?e:159>=e?n[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}var t,n,r,i,s;return t={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245
,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},n=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],r=new RegExp("&("+Object.keys(t).join("|")+");?","g"),i=/&#x([0-9]+);?/g,s=/&#([0-9]+);?/g,function(n){var o;return o=n.replace(r,function(e,n){return t[n]?String.fromCharCode(t[n]):e}),o=o.replace(i,function(t,n){return String.fromCharCode(e(parseInt(n,16)))}),o=o.replace(s,function(t,n){return String.fromCharCode(e(n))})}}(),ts=function(e,t){return function(n){var r,i,s;return i=n.remaining(),s=n.inside?"</"+n.inside:"<",(r=n.inside&&!n.interpolate[n.inside]?i.indexOf(s):e(i,[s,n.delimiters[0],n.tripleDelimiters[0]]))?(-1===r&&(r=i.length),n.pos+=r,t(i.substr(0,r))):null}}(Zi,es),ns=function(e){var t=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;return n.matchString("</")?(r=n.matchPattern(t))?{t:e.CLOSING_TAG,e:r}:(n.pos-=2,void n.error("Illegal closing tag")):null}}(j),rs=function(e,t){function n(e){var t,n,i;return e.allowWhitespace(),(n=e.matchPattern(a))?(t={name:n},i=r(e),i&&(t.value=i),t):null}function r(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=o(e,"'")||o(e,'"')||s(e),null===n?(e.pos=t,null):1===n.length&&"string"==typeof n[0]?n[0]:n):(e.pos=t,null)}function i(e){var t,n,r;return t=e.pos,(n=e.matchPattern(f))?(-1!==(r=n.indexOf(e.delimiters[0]))&&(n=n.substr(0,r),e.pos=t+n.length),n):null}function s(e){var n,r;for(n=[],r=t(e)||i(e);null!==r;)n.push(r),r=t(e)||i(e);return n.length?n:null}function o(e,n){var r,i,s;if(r=e.pos,!e.matchString(n))return null;for(i=[],s=t(e)||u(e,n);null!==s;)i.push(s),s=t(e)||u(e,n);return e.matchString(n)?i:(e.pos=r,null)}function u(t,n){var r,i,s;return r=t.pos,s=t.remaining(),i=e(s,[n,t.delimiters[0],t.delimiters[1]]),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,s.substr(0,i)):null}var a=/^[^\s"'>\/=]+/,f=/^[^\s"'=<>`]+/;return n}(Zi,Gi),is=function(e){return function(t){var n,r,i,s,o,u;if("string"==typeof t){if(-1===t.indexOf(":"))return t.trim();t=[t]}for(n={},s=[],o=[];t.length;)if(r=t.shift(),"string"==typeof r){if(i=r.indexOf(":"),-1!==i){i&&s.push(r.substr(0,i)),r.length>i+1&&(o[0]=r.substring(i+1));break}s.push(r)}else s.push(r);return o=o.concat(t),o.length||"string"!=typeof s?(n={n:1===s.length&&"string"==typeof s[0]?s[0]:s},1===o.length&&"string"==typeof o[0]?(u=e("["+o[0]+"]"),n.a=u?u.value:o[0]):n.d=o):n=s,n}}(bn),ss=function(e,t,n,r,i,s,o,u){function a(n){var r,i,s,a,g,y,b,w,E,S,x,T;if(r=n.pos,i=n.getLinePos(),n.inside)return null;if(!n.matchString("<"))return null;if("/"===n.nextChar())return null;if(s={t:e.ELEMENT},n.includeLinePositions&&(s.p=i.toJSON()),n.matchString("!")&&(s.y=1),s.e=n.matchPattern(l),!s.e)return null;for(c.test(n.nextChar())||n.error("Illegal tag name"),b=function(e,t){var r=t.n||t;d.test(r)&&(n.pos-=r.length,n.error("Cannot use reserved event names (change, reset, teardown, update)")),s.v[e]=t};w=o(n);)(g=v[w.name])?s[g]=u(w.value):(y=p.exec(w.name))?(s.v||(s.v={}),E=u(w.value),b(y[1],E)):n.sanitizeEventAttributes&&h.test(w.name)||(s.a||(s.a={}),s.a[w.name]=w.value||0);if(n.allowWhitespace(),n.matchString("/")&&(S=!0),!n.matchString(">"))return null;if(a=s.e.toLowerCase(),!S&&!t.test(s.e)){for(("script"===a||"style"===a)&&(n.inside=a),x=[];(T=n.read(f))&&T.t!==e.CLOSING&&T.t!==e.CLOSING_TAG;)x.push(T);x.length&&(s.f=x)}return n.inside=null,n.sanitizeElements&&-1!==n.sanitizeElements.indexOf(a)?m:s}var f,l=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,c=/^[\s\n\/>]/,h=/^on/,p=/^on-([a-zA-Z$_][a-zA-Z$_0-9\-]+)$/,d=/^(?:change|reset|teardown|update)$/,v={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},m={exclude:!0};return f=[n,r,a,i,s],a}(j,Ui,Gi,Yi,ts,ns,rs,is),os=function(){var e=/^[ \t\f\r\n]+/,t=/[ \t\f\r\n]+$/;return function(n,r,i){var s;r&&(s=n[0],"string"==typeof s&&(s=s.replace(e,""),s?n[0]=s:n.shift())),i&&(s=n[n.length-1],"string"==typeof s&&(s=s.replace(t,""),s?n[n.length-1]=s:n.pop()))}}(),us=function(e){function t(e){return"string"==typeof e}function n(t){return t.t===e.COMMENT||t.t===e.DELIMCHANGE}function r(t){return(t.t===e.SECTION||t.t===e.INVERTED)&&t.f}var i=/^\s*\r?\n/,s=/\r?\n\s*$/;return function(e){var o,u,a,f,l;for(o=1;o<e.length;o+=1)u=e[o],a=e[o-1],f=e[o-2],t(u)&&n(a)&&t(f)&&s.test(f)&&i.test(u)&&(e[o-2]=f.replace(s,"\n"),e[o]=u.replace(i,"")),r(u)&&t(a
)&&s.test(a)&&t(u.f[0])&&i.test(u.f[0])&&(e[o-1]=a.replace(s,"\n"),u.f[0]=u.f[0].replace(i,"")),t(u)&&r(a)&&(l=a.f[a.f.length-1],t(l)&&s.test(l)&&i.test(u)&&(a.f[a.f.length-1]=l.replace(s,"\n"),e[o]=u.replace(i,"")));return e}}(j),as=function(e,t,n,r,i,s,o,u){function a(t,n,r,i,s,f){var l,c,p,d,y,b,w,E,S;for(u(t),l=t.length;l--;)c=t[l],c.exclude?t.splice(l,1):n&&c.t===e.COMMENT&&t.splice(l,1);for(o(t,i,s),l=t.length;l--;)if(c=t[l],c.f&&(y=r||c.t===e.ELEMENT&&v.test(c.e),y||(p=t[l-1],d=t[l+1],(!p||"string"==typeof p&&g.test(p))&&(b=!0),(!d||"string"==typeof d&&m.test(d))&&(w=!0)),a(c.f,n,y,b,w,f),c.l&&(a(c.l,n,r,b,w,f),f&&(E={t:4,r:c.r,n:e.SECTION_UNLESS,f:c.l},t.splice(l+1,0,E),delete c.l))),c.a)for(S in c.a)c.a.hasOwnProperty(S)&&"string"!=typeof c.a[S]&&a(c.a[S],n,r,f);for(l=t.length;l--;)"string"==typeof t[l]&&("string"==typeof t[l+1]&&(t[l]=t[l]+t[l+1],t.splice(l+1,1)),r||(t[l]=t[l].replace(h," ")),""===t[l]&&t.splice(l,1))}var f,l,c,h=/[ \t\f\r\n]+/g,p=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,d=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,v=/^(?:pre|script|style|textarea)$/i,m=/^\s+/,g=/\s+$/;return f=t.extend({init:function(e,t){this.delimiters=t.delimiters||["{{","}}"],this.tripleDelimiters=t.tripleDelimiters||["{{{","}}}"],this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions,this.handlebars=t.handlebars},postProcess:function(e,t){return a(e,t.stripComments!==!1,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==!1),e},converters:[n,r,i,s]}),l=function(e,t){var n;return t=t||{},p.test(e)?c(e,t):(n=new f(e,t),n.leftover&&n.error("Unexpected character"),n.result)},c=function(e,t){var n,r,i,s,o,u;for(i={},n="",r=e;o=p.exec(r);){if(s=o[1],n+=r.substr(0,o.index),r=r.substring(o.index+o[0].length),u=d.exec(r),!u||u[1]!==s)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");i[s]=l(r.substr(0,u.index),t),r=r.substring(u.index+u[0].length)}return{main:l(n,t),partials:i}},l}(j,yn,Gi,Yi,ss,ts,os,us),fs=function(){function e(e,t){var r=n.exec(t)[0];return null===e||r.length<e.length?r:e}var t=/^\s*$/,n=/^\s*/;return function(n){var r,i,s,o;return r=n.split("\n"),i=r[0],void 0!==i&&t.test(i)&&r.shift(),s=r[r.length-1],void 0!==s&&t.test(s)&&r.pop(),o=r.reduce(e,null),o&&(n=r.map(function(e){return e.replace(o,"")}).join("\n")),n}}(),ls=function(e,t,n,r,i,s,o){function u(t,n){var r;if(t.partials[n]){if("string"==typeof t.partials[n]){if(!s)throw new Error(e.missingParser);r=s(t.partials[n],t.parseOptions),a(r,n,t.partials)}return t.partials[n]}}function a(e,t,n){var i;if(r(e)){n[t]=e.main;for(i in e.partials)e.partials.hasOwnProperty(i)&&(n[i]=e.partials[i])}else n[t]=e}return function(r,f){var l,c,h;if(c=u(r,f))return c;if(t&&(l=document.getElementById(f),l&&"SCRIPT"===l.tagName)){if(!s)throw new Error(e.missingParser);a(s(o(l.text),r.parseOptions),f,i)}if(c=i[f],!c){if(h='Could not find template for partial "'+f+'"',r.debug)throw new Error(h);return n(h),[]}return c}}(Vi,u,Z,et,$i,as,fs),cs=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},hs=function(e,t,n,r){var i,s;return r.push(function(){s=r.Fragment}),i=function(n){var r,i=this.parentFragment=n.parentFragment;if(this.type=e.PARTIAL,this.name=n.template.r,this.index=n.index,!n.template.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=t(i.root,n.template.r),this.fragment=new s({template:r,root:i.root,owner:this,pElement:i.pElement})},i.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(e){this.fragment.unrender(e)},rebind:function(e,t,n,r){return this.fragment.rebind(e,t,n,r)},teardown:function(){this.fragment.teardown()},toString:function(t){var r,i,s,o;return r=this.fragment.toString(t),i=this.parentFragment.items[this.index-1],i&&i.type===e.TEXT?(s=i.template.split("\n").pop(),(o=/^\s+$/.exec(s))?n(r,o[0]):r):r},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)}},i}(j,ls,cs,b),ps=function(){return this.instance.fragment.detach()},ds=function(e){return this.instance.fragment.find(e)},vs=function(e,t){return this.instance.fragment.findAll(e,t)},ms=function(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)},gs=function(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance},ys=function(){return this.parentFragment.findNextNode(this)},bs=function(){return this.rendered?this.instance.fragment.firstNode():null},ws=function(e,t){var n,r,i;return t.push(function(){n=t.Fragment}),r={parse:!0},i=function(e,t,i){this.parentFragment=e.parentFragment,this.component=e,this.key=t,this.fragment=new n({template:i,root:e.root,owner:this}),this.value=this.fragment.getValue(r)},i.prototype={bubble:function(){var t=this;this.dirty||(this.dirty=!0,e.afterModelUpdate(function(){t.update(),t.dirty=!1}))},update:function(){var e=this.fragment.getValue(r);this.component.instance.set(this.key,e),this.value=e},teardown:function(){this.fragment.teardown()}},i}(O,b),Es=function(e,t,n,r,i){function s(s,o,u,a){var f,l,c,h,p,d;return c=s.root,h=s.parentFragment
,"string"==typeof u?(l=t(u),l?l.value:u):null===u?!0:1===u.length&&u[0].t===e.INTERPOLATOR&&u[0].r?h.indexRefs&&void 0!==h.indexRefs[d=u[0].r]?(s.indexRefBindings[d]=o,h.indexRefs[d]):(p=n(c,u[0].r,h)||u[0].r,a.push({childKeypath:o,parentKeypath:p}),r(c,p)):(f=new i(s,o,u),s.complexParameters.push(f),f.value)}return function(e,t,n,r){var i,o,u={};e.complexParameters=[];for(i in n)n.hasOwnProperty(i)&&(o=s(e,i,n[i],r),(void 0!==o||void 0===t[i])&&(u[i]=o));return u}}(j,bn,N,Y,ws),Ss=function(){function e(e,t){var n,r,i;if(n=e.adapt.length?e.adapt.map(function(t){return"object"==typeof t?t:e.adaptors[t]||t}):[],r=t.length)for(i=0;r>i;i+=1)-1===n.indexOf(t[i])&&n.push(t[i]);return n}return function(t,n,r,i){var s,o,u,a,f;return o=t.parentFragment,a=t.root,u={content:i||[]},f=e(a,n.defaults.adapt,n.adaptors),s=new n({append:!0,data:r,partials:u,magic:a.magic||n.defaults.magic,modifyArrays:a.modifyArrays,_parent:a,_component:t,adapt:f})}}(),xs=function(e,t,n){return function(r,i){i.forEach(function(i){var s,o;e(r,r.root,i.parentKeypath,i.childKeypath),s=t(r.instance,i.childKeypath),o=t(r.root,i.parentKeypath),void 0!==s&&void 0===o&&n(r.root,i.parentKeypath,s)})}}(K,Y,q),Ts=function(e){function t(t,r,i,s){if("string"!=typeof s){if(r.debug)throw new Error(n);return void e(n)}t.on(i,function(){var e=Array.prototype.slice.call(arguments);e.unshift(s),r.fire.apply(r,e)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(e,n){var r;for(r in n)n.hasOwnProperty(r)&&t(e.instance,e.root,r,n[r])}}(Z),Ns=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t._parent},Cs=function(e,t,n,r,i,s,o){return function(u){var a,f,l,c,h;if(a=this.parentFragment=u.parentFragment,f=a.root,this.root=f,this.type=e.COMPONENT,this.name=u.template.e,this.index=u.index,this.indexRefBindings={},this.bindings=[],l=f.components[u.template.e],!l)throw new Error('Component "'+u.template.e+'" not found');h=[],c=n(this,l.data||{},u.template.a,h),r(this,l,c,u.template.f),i(this,h),s(this,u.template.v),(u.template.t1||u.template.t2||u.template.o)&&t('The "intro", "outro" and "decorator" directives have no effect on components'),o(this)}}(j,Z,Es,Ss,xs,Ts,Ns),ks=function(e){return function(t,n,r,i){var s,o,u=this.instance,a=u._parent;this.bindings.forEach(function(s){var o;s.root===a&&(s.keypath===t&&u.set(s.otherKeypath,n),(o=e(s.keypath,r,i))&&s.rebind(o))}),(s=this.indexRefBindings[t])&&u.set(s,n),(o=this.root._liveComponentQueries["_"+this.name])&&o._makeDirty()}}(_n),Ls=function(){var e=this.instance;return e.render(this.parentFragment.getNode()).then(function(){e.initOptions.complete&&e.initOptions.complete.call(e)}),this.rendered=!0,e.detach()},As=function(){function e(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t._parent)}return function(){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();e(this),this.shouldDestroy=!1,this.instance.fragment.teardown()}}(),Os=function(){return this.instance.fragment.toString()},Ms=function(e){this.shouldDestroy=e,this.instance.unrender()},_s=function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(e){this.init(e)};return p.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:s,firstNode:o,init:u,rebind:a,render:f,teardown:l,toString:c,unrender:h},p}(ps,ds,vs,ms,gs,ys,bs,Cs,ks,Ls,As,Os,Ms),Ds=function(e,t,n){var r=function(t){this.type=e.COMMENT,this.value=t.template.c};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},teardown:t,toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}},r}(j,Sn,Tn),Ps=function(e,t,n,r,i,s,o,u,a){return function(f){if("string"==typeof f.template)return new t(f);switch(f.template.t){case e.INTERPOLATOR:return new n(f);case e.SECTION:return new r(f);case e.TRIPLE:return new i(f);case e.ELEMENT:return f.parentFragment.root.components[f.template.e]?new u(f):new s(f);case e.PARTIAL:return new o(f);case e.COMMENT:return new a(f);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(j,Nn,In,nr,dr,Xi,hs,_s,Ds),Hs=function(e,t,n){return function(r){var i,s,o,u=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===e.SECTION&&(this.index=r.index),i&&(s=i.indexRefs)){this.indexRefs=t(null);for(o in s)this.indexRefs[o]=s[o]}this.priority=i?i.priority+1:1,r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(e,t){return n({parentFragment:u,pElement:r.pElement,template:e,index:t})}),this.inited=!0}}(j,Vt,Ps),Bs=function(e){return function(t,n,r,i){e(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[t]&&this.indexRefs[t]!==n&&(this.indexRefs[t]=n),this.items.forEach(function(e){e.rebind&&e.rebind(t,n,r,i)})}}(Fi),js=function(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e},Fs=function(){this.items.forEach(function(e){return e.teardown()})},Is=function(e){return this.items?this.items.map(function(t){return t.toString(e)}).join(""):""},qs=function(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)})},Rs=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){var g=function(e){this.init(e)};return g.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:s,findNextNode:o,firstNode:u,getNode:a
,getValue:f,init:l,rebind:c,render:h,teardown:p,toString:d,unrender:v},m.Fragment=g,g}(jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,wn,Hs,Bs,js,Fs,Is,qs,b),Us=["data","computed","adaptors","components","decorators","easing","events","interpolators","partials","transitions"],zs=function(){function e(e){var n="var __ractive=this;return("+e.replace(t,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}var t=/\$\{([^\}]+)\}/g;return function(t){return"function"==typeof t?{get:t}:"string"==typeof t?{get:e(t)}:("object"==typeof t&&"string"==typeof t.get&&(t={get:e(t.get),set:t.set}),t)}}(),Ws=function(e,t,n){var r=function(e,n){this.root=e.ractive,this.keypath=n,this.priority=0,this.computation=e,t(this)};return r.prototype={setValue:function(t){e(t,this.value)||(this.value=t,this.computation.bubble())},teardown:function(){n(this)}},r}(p,$,J),Xs=function(e,t,n,r){function i(e,t,n){var i,s,o;for(i=t.length;i--;)s=t[i],n[s.keypath]||(t.splice(i,1),t[s.keypath]=null,s.teardown());for(i=n.length;i--;)o=n[i],t[o]||(s=new r(e,o),t.push(t[o]=s))}var s=function(e,t,n){this.ractive=e,this.key=t,this.getter=n.get,this.setter=n.set,this.watchers=[],this.update()};return s.prototype={set:function(e){if(this.setting)return void (this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,e)},compute:function(){var t,n,r;t=this.ractive,n=t._captured,n||(t._captured=[]);try{this.value=this.getter.call(t)}catch(s){t.debug&&e('Failed to compute "'+this.key+'": '+s.message||s),r=!0}return i(this,this.watchers,t._captured),t._captured=n,r?!1:!0},update:function(){this.compute()&&(this.setting=!0,n(this.ractive,this.key,this.value),this.setting=!1),this.dirty=!1},bubble:function(){this.watchers.length<=1?this.update():this.dirty||(t.modelUpdate(this),this.dirty=!0)}},s}(Z,O,q,Ws),Vs=function(e,t){return function(n,r){var i,s;for(i in r)s=e(r[i]),n._computations[i]=new t(n,i,s)}}(zs,Xs),$s=function(e,t,n){return function(r){return{fromId:function(e){var n;if(!t)throw new Error("Cannot retieve template #"+e+"as Ractive is not running in the client.");if("#"===e.charAt(0)&&(e=e.substring(1)),!(n=document.getElementById(e)))throw new Error("Could not find template element with id #"+e);return n.innerHTML},parse:function(t,i){if(!n)throw new Error(e.missingParser);return n(t,i||r)},isParsed:function(e){return"string"!=typeof e}}}}(Vi,u,as),Js=function(e,t,n,r){return function(i,s,o){var u,a,f=i.template;u=new r(i.parseOptions),u.isParsed(f)?a=f:("#"===f.charAt(0)&&(f=u.fromId(f)),a=u.parse(f)),n(a)&&(t(i.partials,a.partials),a=a.main),a&&1===a.length&&"string"==typeof a[0]&&(a=a[0]),i.template=a,e(i.partials,o.partials)}}(Qr,Li,et,$s),Ks=function(e,t,n,r,i,s,o,u){function a(e,r){var i;return{"default":{getArg:function(){},extend:function(e,r){return n(t(e),r)},initialValue:function(t){return e[t]}},template:{getArg:function(){return i||(i=new u(e.parseOptions)),i},extend:function(e,t){return t},initialValue:function(e){return r[e]}}}}function f(t,n,u,f){function l(e){return!f.updatesOnly&&t[e]||f.updatesOnly&&g.indexOf(e)>-1}function c(){return h("data"),t.data||(t.data={}),m.filter(function(e){return"data"!==e}).filter(h)}function h(e){var r=f.newValues[e]||u[e],i=t.constructor[e]||n[e],s="data"===e?r:t.data,o=y[e]||y["default"],a=o.initialValue(e);return t[e]="function"==typeof r?r(s,u,o.getArg()):i?"function"==typeof i?i(s,u,o.getArg())||u[e]:o.extend(i,r):r?r:void 0,p(t[e],a)}function p(e,t){return e||t?d(e)&&d(t)?!1:v(e)&&v(t)?!1:e!==t:!1}function d(e){return i(e)&&!Object.keys(e).length}function v(e){return r(e)&&!e.length}var m,g,y=a(t,u);return f=f||{},f.newValues=f.newValues||{},m=f.registries?f.registries.filter(function(t){return e.indexOf(t)>-1}):e,g=c(),l("computed")&&s(t,t.computed),l("template")&&o(t,n,u),g}return e=e.concat(["template"]),f}(Us,Vt,Qr,_,et,Vs,Js,$s),Qs=function(e,t,n,r,i,s){var o=["template","partials","components","decorators","events"].join();return function(u,a){var f,l,c,h,p,d,v=this;if("function"!=typeof u||a?u=u||{}:(a=u,u={}),"object"!=typeof u)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this._wrapped[""])&&c.reset?c.reset(u)===!1&&(this.data=u):this.data=u,this.initOptions.data=this.data,h=s(this,this.constructor.defaults,this.initOptions,{updatesOnly:!0}),d=h.length;d--;)if(o.indexOf(h[d]>-1)){p=!0;break}return f=new e(function(e){l=e}),p?(n(v,""),r(v,""),this.unrender(),this.fragment.template!==this.template&&(this.fragment.teardown(),this.fragment=new i({template:this.template,root:this,owner:this})),this.render(this.el,this.anchor).then(l)):(t.start(this,l),n(this,""),r(this,""),t.end()),this.fire("reset",u),a&&f.then(a),f}}(d,O,F,L,Rs,Ks),Gs=function(e,t){return function(n){var r,i,s={updatesOnly:!0,registries:["template","partials"]};n&&(s.newValues={template:n}),i=e(this,this.constructor.defaults,this.initOptions,s),i.length&&(r=this.transitionsEnabled,this.transitionsEnabled=!1,this.unrender(),this.fragment.teardown(),this.fragment=new t({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r)}}(Ks,Rs),Ys=function(e,t,n,r,i){return function(s,o,u){var a,f,l;if(f=new r(function(e){l=e}),e.start(this,l),t(s)){a=s,u=o;for(s in a)a.hasOwnProperty(s)&&(o=a[s],s=n(s),i(this,s,o))}else s=n(s),i(this,s,o);return e.end(),u&&f.then(u.bind(this)),f}}(O,et,v,d,q),Zs=function(e){return function(t,n){return e(this,t,void 0===n?-1:-n)}}(c),eo=function(e,t){return function(n){var r,i,s;this.fire("teardown"),this.fragment.teardown();for(r in this._cache)t(this,r);for(;s=this._unresolvedImplicitDependencies.pop();)s.teardown();return i=this.rendered?this.unrender():e.resolve(),n&&i.then(n.bind(this)),i}}(d,F),to=function(){return this.fragment.toString(!0)},no=function(e,t){var n;if("string"==typeof e)return n=this.get(e),this.set(e,!n,t);if(this.debug)throw new Error("Bad arguments")},ro=
function(e,t,n,r,i){return function(){var s,o,u,a,f,l=this;if(!this.rendered)throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered");if(s=new t(function(e){o=e}),r.start(this,o),u=!this.component||this.component.shouldDestroy,this.constructor.css)if(u)s.then(function(){return i.remove(l.constructor)});else{a=this.component.parentFragment;do a.owner.type===e.ELEMENT&&a.owner.willDetach&&(f=a.owner);while(!f&&(a=a.parent));if(!f)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");f.cssDetachQueue.push(this.constructor)}for(;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(u),this.rendered=!1,n(this.el.__ractive_instances__,this),r.end(),s}}(j,d,w,O,E),io=function(e,t,n,r){return function(i,s){var o,u;return"function"==typeof i?(s=i,i=""):i=i||"",o=new t(function(e){u=e}),e.start(this,u),n(this,i),r(this,i),e.end(),this.fire("update",i),s&&o.then(s.bind(this)),o}}(O,d,F,L),so=function(e,t,n){function r(e,i,s,o,u){var a,f,l,c,h,p;if(a=e._twowayBindings[i])for(l=a.length;l--;)c=a[l],(!c.radioName||c.element.node.checked)&&(c.checkboxName?c.changed()&&o[i]!==!0&&(o[i]=!0,o.push(i)):(h=c.attribute.value,p=c.getValue(),t(h,p)||n(h,p)||(s[i]=p)));if(u&&(f=e._depsMap[i]))for(l=f.length;l--;)r(e,f[l],s,o,u)}return function(t,n){var i,s,o;if("string"!=typeof t&&(t="",n=!0),r(this,t,i={},s=[],n),o=s.length)for(;o--;)t=s[o],i[t]=e(this,t);return this.set(i)}}(S,ii,p),oo=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:s,findComponent:o,fire:u,get:a,insert:f,merge:l,observe:c,off:h,on:p,render:d,reset:v,resetTemplate:m,set:g,subtract:y,teardown:b,toHTML:w,toggle:E,unrender:S,update:x,updateModel:T}}(h,it,st,ot,mt,gt,yt,bt,Et,xt,Ct,Mt,Pt,Ht,Bt,Qs,Gs,Ys,Zs,eo,to,no,ro,io,so),uo={},ao={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},fo=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"==e?t:3&t|8,n.toString(16)})},lo=function(){function e(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function t(e){return e.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,r=/\/\*.*?\*\//g,i=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(s,o){var u,a;return a=function(e){var n,r,s,u,a,f,l,c,h=[];for(n=[];r=i.exec(e);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(u='[data-rvcguid="'+o+'"]',a=n.map(t),c=n.length;c--;)l=a.slice(),s=n[c],l[c]=s.base+u+s.modifiers||"",f=a.slice(),f[c]=u+" "+f[c],h.push(l.join(" "),f.join(" "));return h.join(", ")},u=s.replace(r,"").replace(n,function(t,n){var r,i;return r=n.split(",").map(e),i=r.map(a).join(", ")+" ",t.replace(n,i)})}}(),co=function(e,t,n,r){return function(i,s){e.forEach(function(e){s[e]&&(i[e]=t(s[e]))}),n(i,"defaults",{value:t(s.defaults)}),s.css&&n(i,"css",{value:s.defaults.noCssTransform?s.css:r(s.css,i._guid)})}}(Us,Vt,a,lo),ho=function(e,t){return/_super/.test(e)?function(){var n,r=this._super;return this._super=t,n=e.apply(this,arguments),this._super=r,n}:e},po=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},vo=function(e,t,n,r,i,s){var o={};return t.concat(e.keys).forEach(function(e){o[e]=!0}),function(u,a){var f,l;t.forEach(function(e){var t=a[e];t&&(u[e]?i(u[e],t):u[e]=t)}),e.keys.forEach(function(e){var t=a[e];void 0!==t&&(u.defaults[e]="function"==typeof t&&"function"==typeof u[e]?r(t,u[e]):a[e])});for(f in a)!o[f]&&a.hasOwnProperty(f)&&(l=a[f],u.prototype[f]="function"==typeof l&&"function"==typeof u.prototype[f]?r(l,u.prototype[f]):l);a.css&&n(u,"css",{value:u.defaults.noCssTransform?a.css:s(a.css,u._guid)})}}(r,Us,a,ho,po,lo),mo=function(e,t){return function(n,r){e(n.defaults.template)&&(n.partials||(n.partials={}),t(n.partials,n.defaults.template.partials),r.partials&&t(n.partials,r.partials),n.defaults.template=n.defaults.template.main)}}(et,po),go=function(e,t,n){return function(r){var i;if("string"==typeof r.defaults.template){if(!n)throw new Error(e.missingParser);if("#"===r.defaults.template.charAt(0)&&t){if(i=document.getElementById(r.defaults.template.substring(1)),!i||"SCRIPT"!==i.tagName)throw new Error("Could not find template element ("+r.defaults.template+")");r.defaults.template=n(i.innerHTML,r)}else r.defaults.template=n(r.defaults.template,r.defaults)}}}(Vi,u,as),yo=function(e,t){return function(n){var r;if(n.partials)for(r in n.partials)if(n.partials.hasOwnProperty(r)&&"string"==typeof n.partials[r]){if(!t)throw new Error(e.missingParser);n.partials[r]=t(n.partials[r],n)}}}(Vi,as),bo=function(e,t,n,r,i,s,o,u,a,f,l,c){function h(t,n,r){p(n),p(r),e.keys.forEach(function(e){void 0===r[e]&&(r[e]=n[e])}),m.forEach(function(e){t[e]=r[e]}),"string"==typeof t.adapt&&(t.adapt=[t.adapt]),d(t,r)}function p(e){s(e.adaptors)&&(t("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`."),e.adapt=e.adaptors,delete e.adaptors),e.eventDefinitions&&(t("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),e.events=e.eventDefinitions)}function d(e){if(e.magic&&!f)throw new Error("Getters and setters (magic mode) are not supported in this browser")}function v(e,t){r(e,{_guid:{value:o()},_subs:{value:n(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:n(null)},_deps:{value:[]},_depsMap:{value:n(null)},_patternObservers:{value:[]},_evaluators:{value:n(null)},_computations:{value:n(null)},_twowayBindings:{value:n(null)},_checkboxNameBindings:{value:n(null)},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:n(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},
_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),e.parseOptions={preserveWhitespace:t.preserveWhitespace,sanitize:t.sanitize,stripComments:t.stripComments,delimiters:t.delimiters,tripleDelimiters:t.tripleDelimiters,handlebars:t.handlebars},t._parent&&t._component&&(r(e,{_parent:{value:t._parent},component:{value:t._component}}),t._component.instance=e)}var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(e,t){var n,r,s=e.constructor.defaults;e.initOptions=t=t||{},h(e,s,t),v(e,t),l(e,s,t),e.fragment=new c({template:e.template,root:e,owner:e});for(n in e._checkboxNameBindings)void 0===u(e,n)&&a(e,n,e._checkboxNameBindings[n].reduce(function(e,t){return t.isChecked&&e.push(t.element.getAttribute("value")),e},[]));(r=i(t.el))&&(e.transitionsEnabled=t.noIntro?!1:t.transitionsEnabled,r&&!t.append&&(r.__ractive_instances__&&r.__ractive_instances__.splice(0).forEach(function(e){return e.teardown()}),r.innerHTML=""),e.render(r,t.append).then(function(){t.complete&&t.complete.call(e)}),e.transitionsEnabled=t.transitionsEnabled)}}(r,Z,Vt,f,St,_,fo,Y,q,W,Ks,Rs),wo=function(e,t,n){return function(r,i,s){e.keys.forEach(function(e){var n=s[e],r=i.defaults[e];"function"==typeof n&&"function"==typeof r&&(s[e]=t(n,r))}),r.beforeInit&&r.beforeInit(s),n(r,s)}}(r,ho,bo),Eo=function(e,t,n,r,i,s,o,u,a,f,l){var c;return l.push(function(){c=l.Ractive}),function h(l){var p,d,v,m=this;if(l.prototype instanceof c&&(l=r({},l,l.prototype,l.defaults)),p=function(e){f(this,p,e||{})},p.prototype=e(m.prototype),p.prototype.constructor=p,p.extend=h,t(p,"_guid",{value:n()}),i(p,m),s(p,l),p.adaptors&&(v=p.defaults.adapt.length))for(;v--;)d=p.defaults.adapt[v],"string"==typeof d&&(p.defaults.adapt[v]=p.adaptors[d]||d);return l.template&&(u(p),o(p,l),a(p)),p}}(Vt,a,fo,Qr,co,vo,mo,go,yo,wo,b),So=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d=function(e){h(this,e)};for(d.prototype=r,n(d,{partials:{value:i},adaptors:{value:s},easing:{value:u},transitions:{value:{}},events:{value:{}},components:{value:o},decorators:{value:{}},interpolators:{value:a},defaults:{value:e.defaults},svg:{value:t},VERSION:{value:"0.4.0"}}),d.prototype.constructor=d,d.Promise=f,d.extend=l,d.parse=c,p.Ractive=d,p.Ractive=d;p.length;)p.pop()();var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||"undefined"!=typeof window&&typeof window.addEventListener!==v)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return d}(r,i,f,oo,$i,P,uo,ao,tt,d,Eo,as,bo,b);"undefined"!=typeof module&&module.exports?module.exports=So:"function"==typeof define&&define.amd&&define(function(){return So}),e.Ractive=So,So.noConflict=function(){return e.Ractive=t,So}}("undefined"!=typeof window?window:this),e.namespace("Common"),e.extend(n,Ractive),n.prototype.constructor=Ractive,e.Common.Ractive=n,e.Common.RactiveDecorators={},e.Common.RactiveDecorators.imgSource=function(e,t){return e.src=t,{teardown:function(){}}},e.Common.RactiveDecorators.style=function(t,n){var r=e.one(t);return r.setAttribute("style",r.getAttribute("style")+n),{teardown:function(){}}}},"@VERSION@",{requires:["yui-base","node","base"]});
