<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>gallery-y-common-accordion/js/gallery-y-common-accordion.js - yogi doc server</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="yogi doc server"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 3.11.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="gallery-y-common-accordion_js_gallery-y-common-accordion.js.html#api-classes">Classes</a></li>
            <li><a href="gallery-y-common-accordion_js_gallery-y-common-accordion.js.html#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Common.Accordion.html">Common.Accordion</a></li>
            
                <li><a href="../classes/Common.CompoundTextField.html">Common.CompoundTextField</a></li>
            
                <li><a href="../classes/Common.DomFieldsModel.html">Common.DomFieldsModel</a></li>
            
                <li><a href="../classes/Common.Radios.html">Common.Radios</a></li>
            
                <li><a href="../classes/Common.Selects.html">Common.Selects</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/gallery-y-common-accordion.html">gallery-y-common-accordion</a></li>
            
                <li><a href="../modules/gallery-y-common-compound-textfield.html">gallery-y-common-compound-textfield</a></li>
            
                <li><a href="../modules/gallery-y-common-dom-fields-model.html">gallery-y-common-dom-fields-model</a></li>
            
                <li><a href="../modules/gallery-y-common-radios.html">gallery-y-common-radios</a></li>
            
                <li><a href="../modules/gallery-y-common-selects.html">gallery-y-common-selects</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: gallery-y-common-accordion/js/gallery-y-common-accordion.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * This module is a widget that helps to render an accordion
 *
 * @class Accordion
 * @namespace Common
 * @extends Widget
 * @module gallery-y-common-accordion
 * @constructor
 */

Y.namespace(&#x27;Common&#x27;);

/**
 * Event that gets fired everytime that item gets expanded
 *
 * @event itemShown
 * @param {Y.Node} node Node of the item shown
 */
var EVT_ITEM_SHOWN = &#x27;itemShown&#x27;;

Y.Common.Accordion = Y.Base.create(&#x27;gallery-y-common-accordion&#x27;, Y.Widget, [], {

    /**
     * Selector for each accordion item container
     * 
     * @property _ACCORDION_ITEM
     * @type String
     * @public
     * @default &#x27;.accordion-item&#x27;
     */ 
    _ACCORDION_ITEM: &#x27;.accordion-item&#x27;,
    
    /**
     * Selector for the accordion item container link,  this link will display the current content
     * 
     * @property _ACCORDION_ITEM_LINK
     * @type String
     * @public
     * @default &#x27;.accordion-item-link&#x27;
     */ 
    _ACCORDION_ITEM_LINK: &#x27;.accordion-item-link&#x27;,
    
    /**
     * Content container selector that goes inside of accordion item container,
     * inside of this container will be going the content that is going to be displayed or not
     * 
     * @property _ACCORDION_ITEM_CONTENT
     * @type String
     * @public
     * @default &#x27;.accordion-item-content&#x27;
     */ 
    _ACCORDION_ITEM_CONTENT: &#x27;.accordion-item-content&#x27;,
    
    /**
     * Class added to content container when is hidden
     * 
     * @property _HIDE
     * @type String
     * @public
     * @default &#x27;hide&#x27;
     */ 
    _HIDE: &#x27;hide&#x27;,
    
    /**
     * Class added to content container when is shown
     * 
     * @property _SHOW
     * @type String
     * @public
     * @default &#x27;show&#x27;
     */ 
    _SHOW: &#x27;show&#x27;,
    
    /**
     * Class added to content item container when is currently selected
     * 
     * @property _SELECTED
     * @type String
     * @public
     * @default &#x27;_SELECTED&#x27;
     */ 
    _SELECTED: &#x27;selected&#x27;,

    bindUI: function () {
        var me = this;
        if (me.hasItems()) {
            this.get(&#x27;srcNode&#x27;).delegate(&#x27;click&#x27;, function (e) {
                e.preventDefault();
                me._deselectAllItems();
                var li = e.target.get(&#x27;parentNode&#x27;);
                var itemContent = li.one(me._ACCORDION_ITEM_CONTENT);
                li.addClass(me._SELECTED);
                if (itemContent) {
                    itemContent.removeClass(me._HIDE);
                    itemContent.addClass(me._SHOW);
                    me.slideDown(itemContent);
                }
                me.fire(EVT_ITEM_SHOWN, {node: li});
            }, me._ACCORDION_ITEM_LINK);
        }
    },

    slideDown: function (node) {
        if (this.get(&#x27;animated&#x27;)) {
            this._slideDown(node);
        }
    },

    slideUp: function (node) {
        if (this.get(&#x27;animated&#x27;)) {
            this._slideUp(node);
        }
    },

    _slideDown: function (node) {
        this._blockAnimNode(node);
        this.get(&#x27;animation&#x27;).height = this._getNodeOffsetHeight(node) + &#x27;px&#x27;;
        node.setStyle(&#x27;height&#x27;, &#x27;0&#x27;);
        node.transition(this.get(&#x27;animation&#x27;), function () {
            node.setStyle(&#x27;overflow&#x27;, &#x27;&#x27;);
        });
    },

    _slideUp: function (node) {
        this._blockAnimNode(node);
        this.get(&#x27;animation&#x27;).height = 0;
        node.transition(this.get(&#x27;animation&#x27;), function () {
            node.setStyle(&#x27;height&#x27;, &#x27;&#x27;);
            node.setStyle(&#x27;display&#x27;, &#x27;none&#x27;);
            node.setStyle(&#x27;overflow&#x27;, &#x27;&#x27;);
        });
    },
    
    _blockAnimNode: function(node) {
        node.setStyle(&#x27;display&#x27;, &#x27;block&#x27;);
        node.setStyle(&#x27;overflow&#x27;, &#x27;hidden&#x27;);
    },
    
    /**
     * Deselects all the items in the list
     * 
     */
    _deselectAllItems: function () {
        var me = this;
        var cfg = this.config;
        this.get(&#x27;srcNode&#x27;).all(this._ACCORDION_ITEM).each(function (node) {
            node.removeClass(me._SELECTED);
            var itemContent = node.one(me._ACCORDION_ITEM_CONTENT);
            if (itemContent &amp;&amp; itemContent.hasClass(me._SHOW)) {
                itemContent.removeClass(me._SHOW);
                itemContent.addClass(me._HIDE);
                me.slideUp(itemContent);
            }
        });
    },

    /**
     * Validates if the list has items
     * 
     */
    hasItems: function () {
        return this.get(&#x27;srcNode&#x27;) &amp;&amp; this.get(&#x27;srcNode&#x27;).all(this._ACCORDION_ITEM_LINK).size() &gt; 0;
    },


    /**
     * Obtains the precise height of the node provided, including padding and border.
     *
     * @param node {Node|HTMLElement} The node to gather the height from
     * @return {Number} The calculated height or zero in case of failure
     */
    _getNodeOffsetHeight: function (node) {
        var height, preciseRegion;
        height = node.get(&#x27;offsetHeight&#x27;);
        return Y.Lang.isValue(height) ? height : 0;
    }

}, {
    ATTRS: {
        
        /**
         * Object to configure and overwrite default animation when items are sliding up or down
         *
         * @attribute animation
         * @type Object
         * @default Object with properties easing = &#x27;ease&#x27;, duration = 0.75
         */
        animation: {
            value: {
                easing: &#x27;ease&#x27;,
                duration: 0.75
            }
        },

        /**
         * Flag to set whether or not the accordion will show and hide items with animation,
         * if &lt;code&gt;false&lt;/code&gt;, it will just display or hide without any animation
         *
         * @attribute animated
         * @type boolean
         * @default true
         */
        animated: {
            value: true
        }
    }
});
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
